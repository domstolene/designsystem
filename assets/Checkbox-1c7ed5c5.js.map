{"version":3,"file":"Checkbox-1c7ed5c5.js","sources":["../../../../packages/components/src/components/SelectionControl/Checkbox/CheckboxGroupContext.tsx","../../../../packages/components/src/components/SelectionControl/Checkbox/Checkbox.tsx"],"sourcesContent":["import { Nullable } from '@norges-domstoler/dds-core';\nimport React, { useContext } from 'react';\n\nexport interface CheckboxGroupContextProps {\n  error?: boolean;\n  errorMessageId?: string;\n  uniqueGroupId?: string;\n  tipId?: string;\n}\n\nexport const CheckboxGroupContext =\n  React.createContext<Nullable<CheckboxGroupContextProps>>(null);\n\nexport const useCheckboxGroup = () => {\n  return useContext(CheckboxGroupContext);\n};\n","import { forwardRef, useId } from 'react';\nimport {\n  getBaseHTMLProps,\n  joinClassNames,\n  spaceSeparatedIdListGenerator,\n} from '@norges-domstoler/dds-core';\n\nimport { Typography } from '@norges-domstoler/dds-typography';\nimport { CheckboxProps } from './Checkbox.types';\nimport { useCheckboxGroup } from './CheckboxGroupContext';\nimport { CustomSelectionControl, Container } from '../SelectionControl.styles';\nimport { HiddenInput } from '@norges-domstoler/dds-form';\n\nexport const Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(\n  (props, ref) => {\n    const {\n      id,\n      name,\n      label,\n      error,\n      disabled,\n      readOnly,\n      indeterminate,\n      'aria-describedby': ariaDescribedby,\n      className,\n      htmlProps = {},\n      ...rest\n    } = props;\n\n    const generatedId = useId();\n    const uniqueId = id ?? `${generatedId}-checkbox`;\n    const checkboxGroup = useCheckboxGroup();\n\n    const hasLabel = !!label;\n\n    const {\n      style,\n      className: htmlPropsClassName,\n      ...restHtmlProps\n    } = htmlProps;\n\n    const containerProps = {\n      error: error || checkboxGroup?.error,\n      disabled,\n      indeterminate,\n      htmlFor: uniqueId,\n      hasLabel,\n      className: joinClassNames(className, htmlPropsClassName),\n      style,\n    };\n    type AriaChecked = 'mixed' | boolean | undefined;\n\n    const inputProps = {\n      ...getBaseHTMLProps(uniqueId, restHtmlProps, rest),\n      ref,\n      name,\n      indeterminate,\n      disabled,\n      'aria-describedby': spaceSeparatedIdListGenerator([\n        checkboxGroup?.tipId,\n        checkboxGroup?.errorMessageId,\n        ariaDescribedby,\n      ]),\n      'aria-invalid': error || checkboxGroup?.error ? true : undefined,\n      'aria-labelledby': checkboxGroup?.uniqueGroupId,\n      'aria-checked': indeterminate ? ('mixed' as AriaChecked) : undefined,\n      'aria-readonly': readOnly,\n    };\n\n    return (\n      <Container {...containerProps} controlType=\"checkbox\">\n        <HiddenInput\n          {...inputProps}\n          type=\"checkbox\"\n          data-indeterminate={indeterminate}\n        />\n        <CustomSelectionControl controlType=\"checkbox\" />\n        {hasLabel && (\n          <Typography color=\"inherit\" as=\"span\" typographyType=\"bodySans02\">\n            {label}\n          </Typography>\n        )}\n      </Container>\n    );\n  }\n);\n\nCheckbox.displayName = 'Checkbox';\n"],"names":["CheckboxGroupContext","React","useCheckboxGroup","useContext","Checkbox","forwardRef","props","ref","id","name","label","error","disabled","readOnly","indeterminate","ariaDescribedby","className","htmlProps","rest","generatedId","useId","uniqueId","checkboxGroup","hasLabel","style","htmlPropsClassName","restHtmlProps","containerProps","joinClassNames","inputProps","getBaseHTMLProps","spaceSeparatedIdListGenerator","jsxs","Container","jsx","HiddenInput","CustomSelectionControl","Typography"],"mappings":"+hBAUa,MAAAA,EACXC,EAAM,cAAmD,IAAI,EAElDC,EAAmB,IACvBC,EAAAA,WAAWH,CAAoB,ECDjCI,EAAAC,EAAA,WAAiB,CAAAC,EAAAC,IAAA,CAEpB,KAAA,CAAM,GAAAC,EACJ,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,SAAAC,EACA,cAAAC,EACA,mBAAAC,EACoB,UAAAC,EACpB,UAAAC,EAAA,CAAA,EACa,GAAAC,CACV,EAAAZ,EAGLa,EAAAC,EAAAA,QACAC,EAAAb,GAAA,GAAAW,CAAA,YACAG,EAAApB,IAEAqB,EAAA,CAAA,CAAAb,EAEA,CAAM,MAAAc,EACJ,UAAAC,EACW,GAAAC,CACR,EAAAT,EAGLU,EAAA,CAAuB,MAAAhB,IAAAW,GAAA,YAAAA,EAAA,OACU,SAAAV,EAC/B,cAAAE,EACA,QAAAO,EACS,SAAAE,EACT,UAAAK,EAAAZ,EAAAS,CAAA,EACuD,MAAAD,CACvD,EAIFK,EAAA,CAAmB,GAAAC,EAAAT,EAAAK,EAAAR,CAAA,EACgC,IAAAX,EACjD,KAAAE,EACA,cAAAK,EACA,SAAAF,EACA,mBAAAmB,EAAA,CACkDT,GAAA,YAAAA,EAAA,MACjCA,GAAA,YAAAA,EAAA,eACAP,CACf,CAAA,EACD,eAAAJ,GAAAW,GAAA,MAAAA,EAAA,MAAA,GAAA,OACsD,kBAAAA,GAAA,YAAAA,EAAA,cACrB,eAAAR,EAAA,QAAA,OACyB,gBAAAD,CAC1C,EAGnB,OAAAmB,EAAAC,EAAA,CAAA,GAAAN,EAAA,YAAA,WAAA,SAAA,CAEIO,EAAAC,EAAC,CAAA,GAAAN,EACK,KAAA,WACC,qBAAAf,CACe,CAAA,EACtBoB,EAAAE,EAAA,CAAA,YAAA,UAAA,CAAA,EAC+Cb,GAAAW,EAAAG,EAAA,CAAA,MAAA,UAAA,GAAA,OAAA,eAAA,aAAA,SAAA3B,CAAA,CAAA,CAI7C,CAAA,CAAA,CAEJ,CAGN,EAEAN,EAAA,YAAA"}
import{a as g,F as N}from"./jsx-runtime-e43ccb36.js";import{r as n,R as W}from"./index-1b03fe98.js";import{d as me,s as J,A as H}from"./ddsReferenceTokens-f9f5a4e4.js";import{S as w,m as le,u as ne,g as _}from"./BaseComponentProps-9c025471.js";import{a as q,G as ue}from"./GridChild-c231c6be.js";import"./Caption-6d408196.js";import{H as ge}from"./Heading-5f7faa2b.js";import{L as Le}from"./Label-9dee7f37.js";import"./Legend-41f9f05c.js";import{L as Te}from"./Link-1567bf4e.js";import{P as he}from"./Paragraph-998f64b8.js";import"./TextOverflowEllipsis-1edb8626.js";import{T as ke}from"./Typography-e857479c.js";import{V as ye,H as De}from"./Stack-f2e8dc57.js";import{T as de}from"./ToggleButtonGroup-2c586425.js";import{T as Me}from"./ToggleButton-38d1ffcd.js";import{a as Ee,L as He}from"./ListItem-a2d04c8f.js";import{a as we,D as Se}from"./DrawerGroup-9812bba4.js";import{D as ve}from"./DescriptionListGroup-ca96feee.js";import{D as Be}from"./Datepicker-2e66f6de.js";import{V as be}from"./VisuallyHidden-297bf54e.js";import{T as fe}from"./TextInput-509534b4.js";import{T as Ge}from"./TextArea-dde80bdf.js";import{S as Ie}from"./Spinner-50e72058.js";import{S as Ce}from"./Select-88f009a4.js";import{R as Re}from"./RadioButtonGroup-d715fd3b.js";import{R as Ve}from"./RadioButton-5d1fea93.js";import{L as Ae}from"./LocalMessage-a500a0aa.js";import{I as Xe}from"./InputMessage-5d6127f2.js";import{G as Ne}from"./GlobalMessage-2bd4d327.js";import{D as _e}from"./Divider-c974f361.js";import{a as $e,b as xe,D as Oe}from"./DescriptionListDesc-d0c82072.js";import{C as ze}from"./CheckboxGroup-c9b29132.js";import{C as Ke}from"./Checkbox-1c7ed5c5.js";import{C as U}from"./Card-498932e1.js";import{B as We}from"./Button-a19acc61.js";import{S as ae}from"./StoryTemplate-8c438c5f.js";import"./libraryAdd-5ac12ed0.js";import"./Icon-1678d620.js";import"./Input.styles-3d1af983.js";import"./Button.tokens-4b98f929.js";import"./SelectionControl.tokens-c223c913.js";import"./index-6fd5a17b.js";import"./ScrollableContainer-67bc1bdc.js";import"./ScrollableContainer.tokens-17f22553.js";import"./renderInputMessage-90dd305a.js";import"./Input.utils-1d79ab61.js";import"./icon-aa5b86b3.js";import"./scrollbarStyling-6511712a.js";import"./chunk-S4VUQJ4A-7ce2c91f.js";import"./iframe-31e44de9.js";import"../sb-preview/runtime.js";import"./index-4a89c107.js";import"./index-356e4a49.js";import"./floating-ui.dom-a5fd4560.js";import"./combineHandlers-f6d4455a.js";import"./SelectionControl.styles-d08df846.js";import"./LocalMessage.tokens-ae85469e.js";import"./normalize-f756ee4b.js";const{spacing:D}=me,f={columnGaps:{[w.XSmall]:D.SizesDdsSpacingLocalX1,[w.Small]:D.SizesDdsSpacingLocalX1,[w.Medium]:D.SizesDdsSpacingLocalX1,[w.Large]:D.SizesDdsSpacingLocalX1,[w.XLarge]:D.SizesDdsSpacingLocalX15},rowGaps:{xs:D.SizesDdsSpacingLocalX1,sm:D.SizesDdsSpacingLocalX1,md:D.SizesDdsSpacingLocalX1,lg:D.SizesDdsSpacingLocalX1,xl:D.SizesDdsSpacingLocalX15},buttonRow:{marginTop:D.SizesDdsSpacingLocalX1}},qe=J(q)`
  margin-top: ${f.buttonRow.marginTop};
`,Je=J.div`
  ${({screenSize:e})=>H`
    display: flex;
    flex-wrap: wrap;
    gap: ${f.columnGaps[e]};
  `}
`,Qe=J.div`
  ${({screenSize:e,length:t})=>t===2?H`
          display: grid;
        `:H`
          display: flex;
          flex-wrap: wrap;
          gap: ${f.columnGaps[e]};
        `}

  ${({screenSize:e,length:t,breakpoint:s=w.XSmall})=>t===2?e>s?H`
            grid-auto-flow: column;
            grid-template-columns: min-content auto;
            column-gap: ${f.columnGaps[e]};
          `:H`
            grid-auto-flow: row;
            row-gap: ${f.rowGaps[le(e)]};
          `:""}

      ${({screenSize:e,length:t,breakpoint:s})=>t===3?s!==void 0&&e>=s?H`
            flex-direction: row;
          `:H`
            flex-direction: column;
          `:""}
`;var r=(e=>(e.Button="Button",e.Card="Card",e.Checkbox="Checkbox",e.CheckboxGroup="CheckboxGroup",e.Datepicker="Datepicker",e.DescriptionList="DescriptionList",e.DescriptionListGroup="DescriptionListGroup",e.DescriptionListDesc="DescriptionListDesc",e.DescriptionListTerm="DescriptionListTerm",e.Divider="Divider",e.Drawer="Drawer",e.DrawerGroup="DrawerGroup",e.GlobalMessage="GlobalMessage",e.Heading="Heading",e.HStack="HStack",e.InputMessage="InputMessage",e.Label="Label",e.Link="Link",e.List="List",e.ListItem="ListItem",e.LocalMessage="LocalMessage",e.Paragraph="Paragraph",e.RadioButton="RadioButton",e.RadioButtonGroup="RadioButtonGroup",e.Select="Select",e.Spinner="Spinner",e.TextArea="TextArea",e.TextInput="TextInput",e.ToggleButton="ToggleButton",e.ToggleButtonGroup="ToggleButtonGroup",e.Typography="Typography",e.VisuallyHidden="VisuallyHidden",e.VStack="VStack",e))(r||{});const V="FIELD_MISSING_NAME_OR_ID",R=(e,t)=>{let s="";switch(e.component){case r.Checkbox:case r.ToggleButton:return s=e.props.name||e.props.id||V,t={...t,[s]:e.props.defaultChecked},t;case r.CheckboxGroup:case r.ToggleButtonGroup:return e.children.forEach(m=>{t=R(m,t)}),t;case r.RadioButton:case r.RadioButtonGroup:return s=e.props.name||e.props.id||V,t={...t,[s]:e.props.value},t;case r.Select:return s=e.name||e.props.id||V,t={...t,[s]:e.props.defaultValue},t;case r.Datepicker:case r.TextInput:return s=e.props.name||e.props.id||V,t={...t,[s]:e.props.defaultValue},t}return t},se=(e,t,s,m,u)=>g(qe,{columnsOccupied:"all",children:g(Je,{screenSize:u,children:t.fields.map((L,T)=>!L.hide&&y(L,T,s,m,u))})},e),y=(e,t,s,m,u,L)=>{const T=o=>s(o),S=o=>s(o);switch(e.component){case r.Button:return n.createElement(We,{...e.props,key:t});case r.Card:return e.innerHTML?n.createElement(U,{...e.props,key:t},e.innerHTML):(e.children&&(U,{...e.props},e.children),g(N,{}));case r.Checkbox:return n.createElement(Ke,{...e.props,key:t,onChange:T});case r.CheckboxGroup:return n.createElement(ze,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&y(o,i,s,m,u)));case r.Datepicker:return n.createElement(Be,{...e.props,key:t,onChange:T});case r.DescriptionList:return n.createElement(Oe,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&y(o,i,s,m,u)));case r.DescriptionListGroup:return n.createElement(ve,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&y(o,i,s,m,u)));case r.DescriptionListDesc:return n.createElement(xe,{...e.props,key:t},e.innerHTML);case r.DescriptionListTerm:return n.createElement($e,{...e.props,key:t},e.innerHTML);case r.Divider:return n.createElement(_e,{...e.props,key:t});case r.Drawer:return n.createElement(Se,{...e.props,key:t},e.innerHTML);case r.DrawerGroup:return n.createElement(we,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&y(o,i,s,m,u)));case r.GlobalMessage:return n.createElement(Ne,{...e.props,key:t},e.innerHTML);case r.Heading:return n.createElement(ge,{...e.props,key:t},e.innerHTML);case r.HStack:return n.createElement(De,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&y(o,i,s,m,u)));case r.InputMessage:return n.createElement(Xe,{...e.props,key:t});case r.Label:return n.createElement(Le,{...e.props,key:t},e.innerHTML);case r.Link:return n.createElement(Te,{...e.props,key:t},e.innerHTML);case r.List:return n.createElement(He,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&y(o,i,s,m,u)));case r.ListItem:return n.createElement(Ee,{...e.props,key:t},e.innerHTML);case r.LocalMessage:return n.createElement(Ae,{...e.props,key:t},e.innerHTML);case r.Paragraph:return n.createElement(he,{...e.props,key:t},e.innerHTML);case r.RadioButton:return n.createElement(Ve,{...e.props,key:t,onChange:T});case r.RadioButtonGroup:return e.props.direction=u>w.XSmall?"row":"column",n.createElement(Re,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&y(o,i,s,m,u)));case r.Select:return n.createElement(Ce,{...e.props,key:t,onChange:o=>m(o,e.name)});case r.Spinner:return n.createElement(Ie,{...e.props,key:t});case r.TextArea:return n.createElement(Ge,{...e.props,key:t,onChange:S,onBlur:L});case r.TextInput:return n.createElement(fe,{...e.props,key:t,onChange:T,onBlur:L});case r.ToggleButton:return n.createElement(Me,{...e.props,key:t,onChange:T});case r.ToggleButtonGroup:return n.createElement(de,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&y(o,i,s,m,u)));case r.Typography:return n.createElement(ke,{...e.props,key:t},e.innerHTML);case r.VisuallyHidden:return n.createElement(be,{...e.props,key:t},e.innerHTML);case r.VStack:return n.createElement(ye,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&y(o,i,s,m,u)));default:return g(N,{})}},z=e=>e&&e.validations!==void 0,pe=e=>(e==null?void 0:e.values)!==void 0,K=e=>e.rowType!==void 0,Y=e=>e.rowType!==void 0,$=e=>{const{fields:t=[],stateOnChange:s,as:m}=e,{id:u,className:L,htmlProps:T,...S}=e,[o,i]=n.useState({}),[M,G]=n.useState({});n.useEffect(()=>{let a={};t.forEach(l=>{K(l)?l.fields.forEach(p=>{a=R(p,a)}):a=R(l,a)}),i(a)},[]),n.useEffect(()=>{s&&s(o,M)},[o,M]);const v=(a,l)=>{const p=c(a);p&&z(p)&&(p.props.errorMessage=l)},x=(a,l)=>{for(const p of l){if(z(p)&&p.props&&p.props.name===a)return p;if(K(p)&&p.fields&&Array.isArray(p.fields)){const k=x(a,p.fields);if(k)return k}}return null},c=a=>x(a,t),h=(a,l,p)=>{const k={...M,[l]:{value:p,errors:a}};G(k)},d=(a,l)=>{const p=c(a);if(p&&z(p)){const k=p.validations&&p.validations.filter(O=>!O.rule(l))||[];h(k,a,l),v(a,k.length>0?k[0].message:"")}},B=a=>{const{name:l,value:p}=a.target;d(l,p)},I=a=>{var Q;const{id:l,name:p,value:k}=a.target,O=(Q=a.target)==null?void 0:Q.checked;v(p,"");const ie={...o,[p||l]:a.target.type==="checkbox"?O:k};i(ie)},C=(a,l)=>{let p=null;pe(a)?p=Array.isArray(a)?a:null:p=a||null;const k={...o,[l]:p};i(k)},E=ne();return g(ue,{..._(u,L,T,S),as:m,rowGap:f.rowGaps,children:t.map((a,l)=>K(a)?a.rowType==="button"?!a.hide&&se(l,a,I,C,E):!a.hide&&g(q,{columnsOccupied:"all",children:g(Qe,{screenSize:E,length:a.fields.length,breakpoint:a.breakpoint,children:a.fields.map((p,k)=>!p.hide&&y(p,k,I,C,E,B))})},l):!a.hide&&g(q,{columnsOccupied:"all",children:y(a,l,I,C,E,B)},l))})};$.displayName="PageGenerator";const Ue=e=>{const{id:t,className:s,htmlProps:m,...u}=e,L={...u};return delete L.rowType,e.as==="div"?g("div",{..._(t,s,m,L),children:e.children}):g(W.Fragment,{children:e.children})},Ye=(e,t,s,m,u)=>n.createElement(Ue,{...t,key:e},t.fields.map((L,T)=>!L.hide&&y(L,T,s,m,u))),ce=e=>{const{fields:t=[],stateOnChange:s,as:m}=e,{id:u,className:L,htmlProps:T,...S}=e,[o,i]=n.useState({});n.useEffect(()=>{let c={};t.forEach(h=>{Y(h)?h.fields.forEach(d=>{c=R(d,c)}):c=R(h,c)}),i(c)},[]),n.useEffect(()=>{s&&s(o)},[o]);const M=c=>{var E;const{id:h,name:d,value:B}=c.target,I=(E=c.target)==null?void 0:E.checked,C={...o,[d||h]:c.target.type==="checkbox"?I:B};i(C)},G=(c,h)=>{let d=null;pe(c)?d=Array.isArray(c)?c:null:d=c||null;const B={...o,[h]:d};i(B)},v=ne();return g(c=>m==="div"?g("div",{..._(u,L,T,S),children:c.children}):m==="form"?g("form",{..._(u,L,T,S),children:c.children}):m==="fragment"?g(W.Fragment,{children:c.children}):g(N,{}),{children:t.map((c,h)=>Y(c)?c.rowType==="button"?!c.hide&&se(h,c,M,G,v):!c.hide&&Ye(h,c,M,G,v):!c.hide&&g(W.Fragment,{children:y(c,h,M,G,v)},h))})};ce.displayName="SectionGenerator";const Ze=[{component:r.Heading,props:{level:1},innerHTML:"Skjema"},{component:r.Heading,props:{level:2},innerHTML:"Personinformasjon"},{component:r.TextInput,props:{label:"Fødselsnummer",name:"nin"},validations:[{message:"Påkrevd",rule:e=>e.length>0},{message:"Må være omg",rule:e=>e==="omg"}]},{rowType:"standard",fields:[{component:r.Datepicker,props:{label:"Fødselsdato",name:"dateOfBirth",width:"320px"}},{component:r.Select,props:{label:"Status",name:"status",options:[{label:"Glad",value:"glad"},{label:"Superglad",value:"superglad"}]},name:"status"}]},{component:r.Heading,props:{level:3},innerHTML:"Kontaktinformasjon"},{component:r.TextInput,props:{label:"E-post",name:"email"}},{rowType:"standard",fields:[{component:r.TextInput,props:{label:"Landkode",width:"90px",name:"countryCode"},validations:[{message:"Må være +47",rule:e=>e==="+47"}]},{component:r.TextInput,props:{label:"Telefon",name:"phoneNumber"}}]},{component:r.TextArea,props:{label:"Adresse",name:"adresse"},validations:[{message:"Må være omg",rule:e=>e==="omg"}]},{component:r.Heading,props:{level:4},innerHTML:"Annet"},{component:r.CheckboxGroup,props:{label:"Kvalifikasjoner"},children:[{component:r.Checkbox,props:{label:"Glad",value:"glad"}},{component:r.Checkbox,props:{label:"Superglad",value:"superglad"}}]},{component:r.RadioButtonGroup,props:{label:"Kjønn",name:"gender"},children:[{component:r.RadioButton,props:{label:"Mann",value:"mann",name:"gender"}},{component:r.RadioButton,props:{label:"Kvinne",value:"kvinne",name:"gender"}}]},{rowType:"button",fields:[{component:r.Button,props:{label:"Lagre",type:"submit"}},{component:r.Button,props:{label:"Superlagre",purpose:"secondary",onClick:e=>{e.preventDefault(),console.log("Du superlagret!")}}}]}],Z=e=>({component:r.Heading,props:{level:5,withMargins:!0},innerHTML:e}),P=(e,t)=>({component:r.DescriptionList,props:{direction:t},children:e}),b=(e,t)=>({component:r.DescriptionListGroup,props:{margin:"0"},children:[{component:r.DescriptionListTerm,props:{},innerHTML:e},{component:r.DescriptionListDesc,props:{},innerHTML:t}]}),Pe=()=>[Z("DescriptionList - direction row"),P([b("Term1","Desc1"),b("Term2","Desc2"),b("Term3","Desc3")],"row"),Z("DescriptionList - direction column"),P([b("Term1","Desc1"),b("Term2","Desc2"),b("Term3","Desc3")],"column"),{component:r.Card,props:{cardType:"info",color:"strokeLight"},innerHTML:"Dette er et Card"},{component:r.DrawerGroup,props:{children:g(N,{})},children:[{component:r.Button,props:{purpose:"secondary",label:"Trigger Drawer"}},{component:r.Drawer,props:{header:"Rediger avdøde"},innerHTML:"Dette er en Drawer"}]},{component:r.HStack,props:{},children:[{component:r.LocalMessage,props:{},innerHTML:"Element i HStack"},{component:r.LocalMessage,props:{},innerHTML:"Element i HStack"},{component:r.LocalMessage,props:{},innerHTML:"Element i HStack"}]},{component:r.VStack,props:{},children:[{component:r.LocalMessage,props:{},innerHTML:"Element i VStack"},{component:r.LocalMessage,props:{},innerHTML:"Element i VStack"},{component:r.LocalMessage,props:{},innerHTML:"Element i VStack"}]},{component:r.Divider,props:{}},{component:r.InputMessage,props:{message:"Dette er en InputMessage",messageType:"error"}},{component:r.Label,props:{},innerHTML:"Dette er en Label"},{component:r.Link,props:{href:""},innerHTML:"Dette er en Link"},{component:r.Paragraph,props:{},innerHTML:"Dette er en Paragraph"},{component:r.Spinner,props:{}},{component:r.Typography,props:{},innerHTML:"Dette er en Typography"},{component:r.VisuallyHidden,props:{as:"div"},innerHTML:"Dette er en VisuallyHidden"},{component:r.ToggleButtonGroup,props:{label:"Dette er ToggleButtonGroup"},children:[{component:r.ToggleButton,props:{label:"ToggleButton 1"}},{component:r.ToggleButton,props:{label:"ToggleButton 2"}}]},{component:r.List,children:[{component:r.ListItem,innerHTML:"Item 1"},{component:r.ListItem,innerHTML:"Item 2"}]}],ot={title:"dds-page-generator/PageGenerator",component:$},A=()=>g(ae,{title:"PageGenerator - Form",display:"grid",children:g($,{as:"form",fields:Ze,stateOnChange:(e,t)=>{console.log(e,t)}})}),X=()=>g(ae,{title:"PageGenerator - Other",display:"grid",children:g($,{as:"form",fields:Pe(),stateOnChange:e=>{console.log(e)}})});var F,j,ee;A.parameters={...A.parameters,docs:{...(F=A.parameters)==null?void 0:F.docs,source:{originalSource:`() => {
  return <StoryTemplate title="PageGenerator - Form" display="grid">
      <PageGenerator as="form" fields={FormFields} stateOnChange={(newState?: object, errors?: object) => {
      console.log(newState, errors);
    }} />
    </StoryTemplate>;
}`,...(ee=(j=A.parameters)==null?void 0:j.docs)==null?void 0:ee.source}}};var re,te,oe;X.parameters={...X.parameters,docs:{...(re=X.parameters)==null?void 0:re.docs,source:{originalSource:`() => {
  return <StoryTemplate title="PageGenerator - Other" display="grid">
      <PageGenerator as="form" fields={OtherFields()} stateOnChange={(newState?: object) => {
      console.log(newState);
    }} />
    </StoryTemplate>;
}`,...(oe=(te=X.parameters)==null?void 0:te.docs)==null?void 0:oe.source}}};const nt=["Form","Other"];export{A as Form,X as Other,nt as __namedExportsOrder,ot as default};
//# sourceMappingURL=PageGenerator.stories-781667a8.js.map

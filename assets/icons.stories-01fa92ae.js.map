{"version":3,"file":"icons.stories-01fa92ae.js","sources":["../../../../packages/components/dist/components/Modal/Modal.tokens.js","../../../../packages/components/dist/components/Modal/Backdrop/Backdrop.js","../../../../packages/components/dist/components/Modal/Backdrop/Backdrop.utils.js","../../../../packages/components/dist/components/Modal/Modal.js","../../../../packages/components/dist/components/Modal/ModalBody.js"],"sourcesContent":["import { ddsBaseTokens } from '@norges-domstoler/dds-design-tokens';\n\nvar spacing = ddsBaseTokens.spacing;\nvar container = {\n  padding: \"\".concat(spacing.SizesDdsSpacingLocalX1, \" \").concat(spacing.SizesDdsSpacingLocalX1, \" \").concat(spacing.SizesDdsSpacingLocalX15, \" \").concat(spacing.SizesDdsSpacingLocalX15)\n};\nvar contentContainer = {\n  paddingRight: spacing.SizesDdsSpacingLocalX1,\n  gap: spacing.SizesDdsSpacingLocalX1\n};\nvar actionsContainer = {\n  gap: spacing.SizesDdsSpacingLocalX1\n};\nvar modalTokens = {\n  container: container,\n  contentContainer: contentContainer,\n  actionsContainer: actionsContainer\n};\n\nexport { modalTokens };\n","import styled from 'styled-components';\nimport { ddsBaseTokens } from '@norges-domstoler/dds-design-tokens';\nimport { changeRGBAAlpha } from '@norges-domstoler/dds-core';\n\nvar Backdrop = styled.div.withConfig({\n  displayName: \"Backdrop\",\n  componentId: \"sc-xbvk9r-0\"\n})([\"position:fixed;display:flex;align-items:center;justify-content:center;background-color:\", \";overflow-y:auto;top:0;right:0;bottom:0;left:0;z-index:200;opacity:\", \";@media (prefers-reduced-motion:no-preference){transition:opacity 0.2s;}\"], changeRGBAAlpha(ddsBaseTokens.colors.DdsColorNeutralsGray9, 0.5), function (_ref) {\n  var isOpen = _ref.isOpen;\n  return isOpen ? 1 : 0;\n});\n\nexport { Backdrop };\n","var isVerticalScrollbarDisplayed = function isVerticalScrollbarDisplayed(container) {\n  return container.clientHeight > window.innerHeight;\n};\nfunction handleElementWithBackdropMount(container) {\n  if (isVerticalScrollbarDisplayed(container)) {\n    var scrollY = Math.round(window.scrollY);\n    container.style.overflowY = 'scroll';\n    container.style.position = 'fixed';\n    container.style.top = \"-\".concat(scrollY, \"px\");\n  }\n}\nfunction handleElementWithBackdropUnmount(container) {\n  var scrollY = parseInt(document.body.style.top) || 0;\n  container.style.removeProperty('overflow-y');\n  container.style.removeProperty('position');\n  container.style.removeProperty('top');\n  window.scrollTo(0, scrollY * -1);\n}\n\nexport { handleElementWithBackdropMount, handleElementWithBackdropUnmount };\n","import { __rest } from 'tslib';\nimport { jsx, jsxs } from 'react/jsx-runtime';\nimport { forwardRef, useId, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Button } from '../Button/Button.js';\nimport { modalTokens } from './Modal.tokens.js';\nimport { createPortal } from 'react-dom';\nimport { Typography } from '@norges-domstoler/dds-typography';\nimport { Paper, selection, useFocusTrap, useCombinedRef, useOnClickOutside, useOnKeyDown, useMountTransition, getBaseHTMLProps } from '@norges-domstoler/dds-core';\nimport { CloseIcon } from '@norges-domstoler/dds-icons';\nimport { focusVisible } from '@norges-domstoler/dds-form';\nimport { Backdrop } from './Backdrop/Backdrop.js';\nimport { handleElementWithBackdropMount, handleElementWithBackdropUnmount } from './Backdrop/Backdrop.utils.js';\n\nvar container = modalTokens.container,\n  contentContainer = modalTokens.contentContainer;\nvar Container = styled(Paper).withConfig({\n  displayName: \"Modal__Container\",\n  componentId: \"sc-12c14zx-0\"\n})([\"display:flex;flex-direction:column-reverse;min-width:200px;padding:\", \";&::selection,*::selection{\", \"}:focus-visible,&.focus-visible{\", \"}\"], container.padding, selection, focusVisible);\nvar ContentContainer = styled.div.withConfig({\n  displayName: \"Modal__ContentContainer\",\n  componentId: \"sc-12c14zx-1\"\n})([\"display:grid;padding-right:\", \";gap:\", \";\"], contentContainer.paddingRight, contentContainer.gap);\nvar HeaderContainer = styled.div.withConfig({\n  displayName: \"Modal__HeaderContainer\",\n  componentId: \"sc-12c14zx-2\"\n})([\"\"]);\nvar StyledButton = styled(Button).withConfig({\n  displayName: \"Modal__StyledButton\",\n  componentId: \"sc-12c14zx-3\"\n})([\"align-self:flex-end;\"]);\nvar Modal = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _props$isOpen = props.isOpen,\n    isOpen = _props$isOpen === void 0 ? false : _props$isOpen,\n    _props$parentElement = props.parentElement,\n    parentElement = _props$parentElement === void 0 ? document.body : _props$parentElement,\n    children = props.children,\n    header = props.header,\n    onClose = props.onClose,\n    id = props.id,\n    triggerRef = props.triggerRef,\n    className = props.className,\n    htmlProps = props.htmlProps,\n    rest = __rest(props, [\"isOpen\", \"parentElement\", \"children\", \"header\", \"onClose\", \"id\", \"triggerRef\", \"className\", \"htmlProps\"]);\n  var generatedId = useId();\n  var modalId = id !== null && id !== void 0 ? id : \"\".concat(generatedId, \"-modal\");\n  var headerId = \"\".concat(modalId, \"-header\");\n  var modalRef = useFocusTrap(isOpen);\n  var combinedRef = useCombinedRef(ref, modalRef);\n  var handleClose = function handleClose() {\n    var _a;\n    if (onClose && isOpen) {\n      triggerRef && ((_a = triggerRef.current) === null || _a === void 0 ? void 0 : _a.focus());\n      onClose();\n    }\n  };\n  useEffect(function () {\n    if (isOpen) {\n      handleElementWithBackdropMount(document.body);\n    } else {\n      handleElementWithBackdropUnmount(document.body);\n    }\n    return function () {\n      return handleElementWithBackdropUnmount(document.body);\n    };\n  }, [isOpen]);\n  useOnClickOutside(modalRef.current, function () {\n    return handleClose();\n  });\n  useOnKeyDown(['Escape', 'Esc'], function () {\n    return handleClose();\n  });\n  var hasTransitionedIn = useMountTransition(isOpen, 200);\n  var backdropProps = {\n    isOpen: hasTransitionedIn && isOpen\n  };\n  var containerProps = Object.assign(Object.assign({}, getBaseHTMLProps(id, className, htmlProps, rest)), {\n    ref: combinedRef,\n    role: 'dialog',\n    'aria-modal': true,\n    'aria-hidden': !isOpen,\n    tabIndex: -1,\n    'aria-labelledby': headerId,\n    id: modalId\n  });\n  var headerContainerProps = {\n    id: headerId\n  };\n  return isOpen || hasTransitionedIn ? /*#__PURE__*/createPortal(jsx(Backdrop, Object.assign({}, backdropProps, {\n    children: jsxs(Container, Object.assign({}, containerProps, {\n      elevation: 4,\n      children: [jsxs(ContentContainer, {\n        children: [header && jsx(HeaderContainer, Object.assign({}, headerContainerProps, {\n          children: typeof header === 'string' ? jsx(Typography, {\n            typographyType: \"headingSans03\",\n            children: header\n          }) : header\n        })), children]\n      }), onClose && jsx(StyledButton, {\n        size: \"small\",\n        appearance: \"borderless\",\n        purpose: \"secondary\",\n        icon: CloseIcon,\n        onClick: handleClose,\n        \"aria-label\": \"Lukk dialog\"\n      })]\n    }))\n  })), parentElement) : null;\n});\nModal.displayName = 'Modal';\n\nexport { Modal };\n","import { __rest } from 'tslib';\nimport { jsx } from 'react/jsx-runtime';\nimport { forwardRef } from 'react';\nimport styled from 'styled-components';\nimport { getBaseHTMLProps } from '@norges-domstoler/dds-core';\nimport '../ScrollableContainer/Scrollbar.js';\nimport { ScrollableContainer } from '../ScrollableContainer/ScrollableContainer.js';\nimport '../ScrollableContainer/ScrollableContainer.tokens.js';\n\nvar Container = styled.div.withConfig({\n  displayName: \"ModalBody__Container\",\n  componentId: \"sc-134o0zg-0\"\n})([\"\"]);\nvar ModalBody = /*#__PURE__*/forwardRef(function (props, ref) {\n  var children = props.children,\n    scrollable = props.scrollable,\n    id = props.id,\n    className = props.className,\n    htmlProps = props.htmlProps,\n    height = props.height,\n    rest = __rest(props, [\"children\", \"scrollable\", \"id\", \"className\", \"htmlProps\", \"height\"]);\n  var containerProps = Object.assign(Object.assign({}, getBaseHTMLProps(id, className, htmlProps, rest)), {\n    ref: ref\n  });\n  return scrollable ? jsx(Container, Object.assign({}, containerProps, {\n    children: jsx(ScrollableContainer, {\n      contentHeight: height,\n      children: children\n    })\n  })) : jsx(Container, Object.assign({}, containerProps, {\n    children: children\n  }));\n});\nModalBody.displayName = 'ModalBody';\n\nexport { ModalBody };\n"],"names":["spacing","ddsBaseTokens","container","contentContainer","actionsContainer","modalTokens","Backdrop","styled","changeRGBAAlpha","_ref","isOpen","isVerticalScrollbarDisplayed","handleElementWithBackdropMount","scrollY","handleElementWithBackdropUnmount","Container","Paper","selection","focusVisible","ContentContainer","HeaderContainer","StyledButton","Button","Modal","forwardRef","props","ref","_props$isOpen","_props$parentElement","parentElement","children","header","onClose","id","triggerRef","className","htmlProps","rest","__rest","generatedId","useId","modalId","headerId","modalRef","useFocusTrap","combinedRef","useCombinedRef","handleClose","_a","useEffect","useOnClickOutside","useOnKeyDown","hasTransitionedIn","useMountTransition","backdropProps","containerProps","getBaseHTMLProps","headerContainerProps","createPortal","jsx","jsxs","Typography","CloseIcon","ModalBody","scrollable","height","ScrollableContainer"],"mappings":"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"}
{"version":3,"file":"SplitButton.stories-325e0cd9.js","sources":["../../../../packages/components/src/components/SplitButton/SplitButton.tokens.ts","../../../../packages/components/src/components/SplitButton/SplitButton.tsx"],"sourcesContent":["import { ddsBaseTokens } from '@norges-domstoler/dds-design-tokens';\n\nconst mainButton = {\n  primary: {\n    borderLeft: `1px solid ${ddsBaseTokens.colors.DdsColorNeutralsWhite}`,\n  },\n};\n\nexport const tokens = {\n  mainButton,\n};\n","import { forwardRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { ChevronDownIcon, ChevronUpIcon } from '@norges-domstoler/dds-icons';\nimport { ExtractStrict } from '@norges-domstoler/dds-core';\nimport { Button, ButtonProps, ButtonPurpose, ButtonSize } from '../Button';\nimport {\n  OverflowMenu,\n  OverflowMenuButtonItem,\n  OverflowMenuGroup,\n} from '../OverflowMenu';\nimport { tokens } from './SplitButton.tokens';\n\nconst Container = styled.div`\n  display: flex;\n`;\n\nconst MainButton = styled(Button)`\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-right: none;\n  &:focus {\n    position: relative;\n    z-index: 0;\n  }\n`;\n\nexport type SplitButtonPurpose = ExtractStrict<\n  ButtonPurpose,\n  'primary' | 'secondary'\n>;\n\ntype OptionButtonProps = {\n  purpose: SplitButtonPurpose;\n};\n\nconst OptionButton = styled(Button)<OptionButtonProps>`\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n\n  ${props =>\n    props.purpose === 'primary' &&\n    `\n      border-left: ${tokens.mainButton.primary.borderLeft};\n      &:hover {\n        border-left: ${tokens.mainButton.primary.borderLeft};\n      }\n    `}\n\n  &:focus {\n    position: relative;\n    z-index: 0;\n\n    ${props =>\n      props.purpose === 'primary' &&\n      `border-left: ${tokens.mainButton.primary.borderLeft}`};\n  }\n`;\n\nexport type SplitButtonProps = {\n  /**Størrelse på komponenten. */\n  size?: ButtonSize;\n  /**Props for primær handling. Samme props som for `<Button />` unntatt `size`, `purpose`, og `appearance`. */\n  primaryAction: Omit<ButtonProps, 'size' | 'apperance' | 'purpose'>;\n  /**Props for sekunære handlinger. */\n  secondaryActions: OverflowMenuButtonItem[];\n  /**Formål med knappen */\n  purpose?: SplitButtonPurpose;\n};\nexport const SplitButton = forwardRef<HTMLDivElement, SplitButtonProps>(\n  (props, ref) => {\n    const {\n      size,\n      primaryAction,\n      secondaryActions,\n      purpose = 'primary',\n    } = props;\n\n    const [isOpen, setIsOpen] = useState(false);\n    const buttonStyleProps: ButtonProps = {\n      appearance: 'filled',\n      purpose: purpose,\n      size,\n    };\n\n    return (\n      <Container ref={ref}>\n        <MainButton\n          {...buttonStyleProps}\n          {...primaryAction}\n          iconPosition=\"left\"\n        />\n        <OverflowMenuGroup onToggle={() => setIsOpen(!isOpen)}>\n          <OptionButton\n            {...buttonStyleProps}\n            icon={isOpen ? ChevronUpIcon : ChevronDownIcon}\n            aria-label=\"Åpne liste med flere valg\"\n            purpose={purpose}\n          />\n          <OverflowMenu items={secondaryActions} placement=\"bottom-end\" />\n        </OverflowMenuGroup>\n      </Container>\n    );\n  }\n);\n\nSplitButton.displayName = 'SplitButton';\n"],"names":["mainButton","ddsBaseTokens","tokens","Container","styled","MainButton","Button","OptionButton","props","SplitButton","forwardRef","ref","size","primaryAction","secondaryActions","purpose","isOpen","setIsOpen","useState","buttonStyleProps","jsxs","jsx","OverflowMenuGroup","ChevronUpIcon","ChevronDownIcon","OverflowMenu"],"mappings":"6aAEA,MAAMA,EAAa,CACjB,QAAS,CACP,WAAY,aAAaC,EAAc,OAAO,qBAAqB,EACrE,CACF,EAEaC,EAAS,CACpB,WAAAF,CACF,ECEAG,EAAAC,EAAA;AAAA;AAAA,EAIAC,EAAAD,EAAAE,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAmBAC,EAAAH,EAAAE,CAAA;AAAA;AAAA;AAAA;AAAA,IAAkCE,GAAAA,EAAA,UAAA,WAAA;AAAA,qBAM9BN,EAAA,WAAA,QAAA,UAAA;AAAA;AAAA,uBACqDA,EAAA,WAAA,QAAA,UAAA;AAAA;AAAA,KAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAEtDM,GAAAA,EAAA,UAAA,WAAA,gBAAAN,EAAA,WAAA,QAAA,UAAA,EAAA;AAAA;AAAA,EAsBEO,EAAAC,EAAA,WAAoB,CAAAF,EAAAG,IAAA,CAEvB,KAAA,CAAM,KAAAC,EACJ,cAAAC,EACA,iBAAAC,EACA,QAAAC,EAAA,SACU,EAAAP,EAGZ,CAAAQ,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EACAC,EAAA,CAAsC,WAAA,SACxB,QAAAJ,EACZ,KAAAH,CACA,EAGF,OAAAQ,EAAAjB,EAAA,CAAA,IAAAQ,EAAA,SAAA,CAEIU,EAAAhB,EAAC,CAAA,GAAAc,EACK,GAAAN,EACA,aAAA,MACS,CAAA,EACfO,EAAAE,EAAA,CAAA,SAAA,IAAAL,EAAA,CAAAD,CAAA,EAAA,SAAA,CAEEK,EAAAd,EAAC,CAAA,GAAAY,EACK,KAAAH,EAAAO,EAAAC,EAC2B,aAAA,4BACpB,QAAAT,CACX,CAAA,EACFM,EAAAI,EAAA,CAAA,MAAAX,EAAA,UAAA,aAAA,CAC8D,EAAA,CAChE,CAAA,CAAA,CACF,CAGN,EAEAL,EAAA,YAAA;;;;;;;;;;;;"}
function G(t){return t.split("-")[1]}function lt(t){return t==="y"?"height":"width"}function V(t){return t.split("-")[0]}function I(t){return["top","bottom"].includes(V(t))?"x":"y"}function ft(t,e,o){let{reference:n,floating:r}=t;const i=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2,c=I(e),f=lt(c),s=n[f]/2-r[f]/2,m=c==="x";let a;switch(V(e)){case"top":a={x:i,y:n.y-r.height};break;case"bottom":a={x:i,y:n.y+n.height};break;case"right":a={x:n.x+n.width,y:l};break;case"left":a={x:n.x-r.width,y:l};break;default:a={x:n.x,y:n.y}}switch(G(e)){case"start":a[c]-=s*(o&&m?-1:1);break;case"end":a[c]+=s*(o&&m?-1:1)}return a}const Pt=async(t,e,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:l}=o,c=i.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let s=await l.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y:a}=ft(s,n,f),d=n,u={},h=0;for(let p=0;p<c.length;p++){const{name:g,fn:y}=c[p],{x,y:v,data:D,reset:b}=await y({x:m,y:a,initialPlacement:n,placement:d,strategy:r,middlewareData:u,rects:s,platform:l,elements:{reference:t,floating:e}});m=x??m,a=v??a,u={...u,[g]:{...u[g],...D}},b&&h<=50&&(h++,typeof b=="object"&&(b.placement&&(d=b.placement),b.rects&&(s=b.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:r}):b.rects),{x:m,y:a}=ft(s,d,f)),p=-1)}return{x:m,y:a,placement:d,strategy:r,middlewareData:u}};function J(t,e){return typeof t=="function"?t(e):t}function yt(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function K(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function xt(t,e){var o;e===void 0&&(e={});const{x:n,y:r,platform:i,rects:l,elements:c,strategy:f}=t,{boundary:s="clippingAncestors",rootBoundary:m="viewport",elementContext:a="floating",altBoundary:d=!1,padding:u=0}=J(e,t),h=yt(u),p=c[d?a==="floating"?"reference":"floating":a],g=K(await i.getClippingRect({element:(o=await(i.isElement==null?void 0:i.isElement(p)))==null||o?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:s,rootBoundary:m,strategy:f})),y=a==="floating"?{...l.floating,x:n,y:r}:l.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),v=await(i.isElement==null?void 0:i.isElement(x))&&await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1},D=K(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:x,strategy:f}):y);return{top:(g.top-D.top+h.top)/v.y,bottom:(D.bottom-g.bottom+h.bottom)/v.y,left:(g.left-D.left+h.left)/v.x,right:(D.right-g.right+h.right)/v.x}}const ot=Math.min,Dt=Math.max;function it(t,e,o){return Dt(t,ot(e,o))}const zt=t=>({name:"arrow",options:t,async fn(e){const{x:o,y:n,placement:r,rects:i,platform:l,elements:c}=e,{element:f,padding:s=0}=J(t,e)||{};if(f==null)return{};const m=yt(s),a={x:o,y:n},d=I(r),u=lt(d),h=await l.getDimensions(f),p=d==="y",g=p?"top":"left",y=p?"bottom":"right",x=p?"clientHeight":"clientWidth",v=i.reference[u]+i.reference[d]-a[d]-i.floating[u],D=a[d]-i.reference[d],b=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let O=b?b[x]:0;O&&await(l.isElement==null?void 0:l.isElement(b))||(O=c.floating[x]||i.floating[u]);const W=v/2-D/2,z=O/2-h[u]/2-1,N=ot(m[g],z),X=ot(m[y],z),w=N,E=O-h[u]-X,R=O/2-h[u]/2+W,T=it(w,R,E),$=G(r)!=null&&R!=T&&i.reference[u]/2-(R<w?N:X)-h[u]/2<0;return{[d]:a[d]-($?R<w?w-R:E-R:0),data:{[d]:T,centerOffset:R-T}}}}),Ot=["top","right","bottom","left"];Ot.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const Ct={left:"right",right:"left",bottom:"top",top:"bottom"};function Q(t){return t.replace(/left|right|bottom|top/g,e=>Ct[e])}function Ft(t,e,o){o===void 0&&(o=!1);const n=G(t),r=I(t),i=lt(r);let l=r==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=Q(l)),{main:l,cross:Q(l)}}const Wt={start:"end",end:"start"};function nt(t){return t.replace(/start|end/g,e=>Wt[e])}const Nt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o;const{placement:n,middlewareData:r,rects:i,initialPlacement:l,platform:c,elements:f}=e,{mainAxis:s=!0,crossAxis:m=!0,fallbackPlacements:a,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:u="none",flipAlignment:h=!0,...p}=J(t,e),g=V(n),y=V(l)===l,x=await(c.isRTL==null?void 0:c.isRTL(f.floating)),v=a||(y||!h?[Q(l)]:function(w){const E=Q(w);return[nt(w),E,nt(E)]}(l));a||u==="none"||v.push(...function(w,E,R,T){const $=G(w);let A=function(Y,et,St){const st=["left","right"],at=["right","left"],$t=["top","bottom"],kt=["bottom","top"];switch(Y){case"top":case"bottom":return St?et?at:st:et?st:at;case"left":case"right":return et?$t:kt;default:return[]}}(V(w),R==="start",T);return $&&(A=A.map(Y=>Y+"-"+$),E&&(A=A.concat(A.map(nt)))),A}(l,h,u,x));const D=[l,...v],b=await xt(e,p),O=[];let W=((o=r.flip)==null?void 0:o.overflows)||[];if(s&&O.push(b[g]),m){const{main:w,cross:E}=Ft(n,i,x);O.push(b[w],b[E])}if(W=[...W,{placement:n,overflows:O}],!O.every(w=>w<=0)){var z,N;const w=(((z=r.flip)==null?void 0:z.index)||0)+1,E=D[w];if(E)return{data:{index:w,overflows:W},reset:{placement:E}};let R=(N=W.filter(T=>T.overflows[0]<=0).sort((T,$)=>T.overflows[1]-$.overflows[1])[0])==null?void 0:N.placement;if(!R)switch(d){case"bestFit":{var X;const T=(X=W.map($=>[$.placement,$.overflows.filter(A=>A>0).reduce((A,Y)=>A+Y,0)]).sort(($,A)=>$[1]-A[1])[0])==null?void 0:X[0];T&&(R=T);break}case"initialPlacement":R=l}if(n!==R)return{reset:{placement:R}}}return{}}}},Xt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:o,y:n}=e,r=await async function(i,l){const{placement:c,platform:f,elements:s}=i,m=await(f.isRTL==null?void 0:f.isRTL(s.floating)),a=V(c),d=G(c),u=I(c)==="x",h=["left","top"].includes(a)?-1:1,p=m&&u?-1:1,g=J(l,i);let{mainAxis:y,crossAxis:x,alignmentAxis:v}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return d&&typeof v=="number"&&(x=d==="end"?-1*v:v),u?{x:x*p,y:y*h}:{x:y*h,y:x*p}}(e,t);return{x:o+r.x,y:n+r.y,data:r}}}};function Vt(t){return t==="x"?"y":"x"}const Yt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:r}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:g=>{let{x:y,y:x}=g;return{x:y,y:x}}},...f}=J(t,e),s={x:o,y:n},m=await xt(e,f),a=I(V(r)),d=Vt(a);let u=s[a],h=s[d];if(i){const g=a==="y"?"bottom":"right";u=it(u+m[a==="y"?"top":"left"],u,u-m[g])}if(l){const g=d==="y"?"bottom":"right";h=it(h+m[d==="y"?"top":"left"],h,h-m[g])}const p=c.fn({...e,[a]:u,[d]:h});return{...p,data:{x:p.x-o,y:p.y-n}}}}};function S(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function k(t){return S(t).getComputedStyle(t)}function wt(t){return t instanceof S(t).Node}function F(t){return wt(t)?(t.nodeName||"").toLowerCase():""}function P(t){return t instanceof S(t).HTMLElement}function L(t){return t instanceof S(t).Element}function ut(t){return typeof ShadowRoot>"u"?!1:t instanceof S(t).ShadowRoot||t instanceof ShadowRoot}function q(t){const{overflow:e,overflowX:o,overflowY:n,display:r}=k(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(r)}function Ht(t){return["table","td","th"].includes(F(t))}function rt(t){const e=ct(),o=k(t);return o.transform!=="none"||o.perspective!=="none"||!e&&!!o.backdropFilter&&o.backdropFilter!=="none"||!e&&!!o.filter&&o.filter!=="none"||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function ct(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Z(t){return["html","body","#document"].includes(F(t))}const dt=Math.min,_=Math.max,U=Math.round;function vt(t){const e=k(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=P(t),i=r?t.offsetWidth:o,l=r?t.offsetHeight:n,c=U(o)!==i||U(n)!==l;return c&&(o=i,n=l),{width:o,height:n,fallback:c}}function bt(t){return L(t)?t:t.contextElement}const Rt={x:1,y:1};function M(t){const e=bt(t);if(!P(e))return Rt;const o=e.getBoundingClientRect(),{width:n,height:r,fallback:i}=vt(e);let l=(i?U(o.width):o.width)/n,c=(i?U(o.height):o.height)/r;return l&&Number.isFinite(l)||(l=1),c&&Number.isFinite(c)||(c=1),{x:l,y:c}}const mt={x:0,y:0};function Lt(t,e,o){var n,r;if(e===void 0&&(e=!0),!ct())return mt;const i=t?S(t):window;return!o||e&&o!==i?mt:{x:((n=i.visualViewport)==null?void 0:n.offsetLeft)||0,y:((r=i.visualViewport)==null?void 0:r.offsetTop)||0}}function H(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const r=t.getBoundingClientRect(),i=bt(t);let l=Rt;e&&(n?L(n)&&(l=M(n)):l=M(t));const c=Lt(i,o,n);let f=(r.left+c.x)/l.x,s=(r.top+c.y)/l.y,m=r.width/l.x,a=r.height/l.y;if(i){const d=S(i),u=n&&L(n)?S(n):n;let h=d.frameElement;for(;h&&n&&u!==d;){const p=M(h),g=h.getBoundingClientRect(),y=getComputedStyle(h);g.x+=(h.clientLeft+parseFloat(y.paddingLeft))*p.x,g.y+=(h.clientTop+parseFloat(y.paddingTop))*p.y,f*=p.x,s*=p.y,m*=p.x,a*=p.y,f+=g.x,s+=g.y,h=S(h).frameElement}}return K({width:m,height:a,x:f,y:s})}function C(t){return((wt(t)?t.ownerDocument:t.document)||window.document).documentElement}function tt(t){return L(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Et(t){return H(C(t)).left+tt(t).scrollLeft}function B(t){if(F(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ut(t)&&t.host||C(t);return ut(e)?e.host:e}function Tt(t){const e=B(t);return Z(e)?e.ownerDocument.body:P(e)&&q(e)?e:Tt(e)}function j(t,e){var o;e===void 0&&(e=[]);const n=Tt(t),r=n===((o=t.ownerDocument)==null?void 0:o.body),i=S(n);return r?e.concat(i,i.visualViewport||[],q(n)?n:[]):e.concat(n,j(n))}function pt(t,e,o){let n;if(e==="viewport")n=function(r,i){const l=S(r),c=C(r),f=l.visualViewport;let s=c.clientWidth,m=c.clientHeight,a=0,d=0;if(f){s=f.width,m=f.height;const u=ct();(!u||u&&i==="fixed")&&(a=f.offsetLeft,d=f.offsetTop)}return{width:s,height:m,x:a,y:d}}(t,o);else if(e==="document")n=function(r){const i=C(r),l=tt(r),c=r.ownerDocument.body,f=_(i.scrollWidth,i.clientWidth,c.scrollWidth,c.clientWidth),s=_(i.scrollHeight,i.clientHeight,c.scrollHeight,c.clientHeight);let m=-l.scrollLeft+Et(r);const a=-l.scrollTop;return k(c).direction==="rtl"&&(m+=_(i.clientWidth,c.clientWidth)-f),{width:f,height:s,x:m,y:a}}(C(t));else if(L(e))n=function(r,i){const l=H(r,!0,i==="fixed"),c=l.top+r.clientTop,f=l.left+r.clientLeft,s=P(r)?M(r):{x:1,y:1};return{width:r.clientWidth*s.x,height:r.clientHeight*s.y,x:f*s.x,y:c*s.y}}(e,o);else{const r=Lt(t);n={...e,x:e.x-r.x,y:e.y-r.y}}return K(n)}function At(t,e){const o=B(t);return!(o===e||!L(o)||Z(o))&&(k(o).position==="fixed"||At(o,e))}function ht(t,e){return P(t)&&k(t).position!=="fixed"?e?e(t):t.offsetParent:null}function gt(t,e){const o=S(t);if(!P(t))return o;let n=ht(t,e);for(;n&&Ht(n)&&k(n).position==="static";)n=ht(n,e);return n&&(F(n)==="html"||F(n)==="body"&&k(n).position==="static"&&!rt(n))?o:n||function(r){let i=B(r);for(;P(i)&&!Z(i);){if(rt(i))return i;i=B(i)}return null}(t)||o}function Mt(t,e,o){const n=P(e),r=C(e),i=o==="fixed",l=H(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const f={x:0,y:0};if(n||!n&&!i)if((F(e)!=="body"||q(r))&&(c=tt(e)),P(e)){const s=H(e,!0,i,e);f.x=s.x+e.clientLeft,f.y=s.y+e.clientTop}else r&&(f.x=Et(r));return{x:l.left+c.scrollLeft-f.x,y:l.top+c.scrollTop-f.y,width:l.width,height:l.height}}const Bt={getClippingRect:function(t){let{element:e,boundary:o,rootBoundary:n,strategy:r}=t;const i=o==="clippingAncestors"?function(s,m){const a=m.get(s);if(a)return a;let d=j(s).filter(g=>L(g)&&F(g)!=="body"),u=null;const h=k(s).position==="fixed";let p=h?B(s):s;for(;L(p)&&!Z(p);){const g=k(p),y=rt(p);y||g.position!=="fixed"||(u=null),(h?!y&&!u:!y&&g.position==="static"&&u&&["absolute","fixed"].includes(u.position)||q(p)&&!y&&At(s,p))?d=d.filter(x=>x!==p):u=g,p=B(p)}return m.set(s,d),d}(e,this._c):[].concat(o),l=[...i,n],c=l[0],f=l.reduce((s,m)=>{const a=pt(e,m,r);return s.top=_(a.top,s.top),s.right=dt(a.right,s.right),s.bottom=dt(a.bottom,s.bottom),s.left=_(a.left,s.left),s},pt(e,c,r));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:n}=t;const r=P(o),i=C(o);if(o===i)return e;let l={scrollLeft:0,scrollTop:0},c={x:1,y:1};const f={x:0,y:0};if((r||!r&&n!=="fixed")&&((F(o)!=="body"||q(i))&&(l=tt(o)),P(o))){const s=H(o);c=M(o),f.x=s.x+o.clientLeft,f.y=s.y+o.clientTop}return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-l.scrollLeft*c.x+f.x,y:e.y*c.y-l.scrollTop*c.y+f.y}},isElement:L,getDimensions:function(t){return vt(t)},getOffsetParent:gt,getDocumentElement:C,getScale:M,async getElementRects(t){let{reference:e,floating:o,strategy:n}=t;const r=this.getOffsetParent||gt,i=this.getDimensions;return{reference:Mt(e,await r(o),n),floating:{x:0,y:0,...await i(o)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>k(t).direction==="rtl"};function _t(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=!0,animationFrame:c=!1}=n,f=r||i?[...L(t)?j(t):t.contextElement?j(t.contextElement):[],...j(e)]:[];f.forEach(d=>{const u=!L(d)&&d.toString().includes("V");!r||c&&!u||d.addEventListener("scroll",o,{passive:!0}),i&&d.addEventListener("resize",o)});let s,m=null;l&&(m=new ResizeObserver(()=>{o()}),L(t)&&!c&&m.observe(t),L(t)||!t.contextElement||c||m.observe(t.contextElement),m.observe(e));let a=c?H(t):null;return c&&function d(){const u=H(t);!a||u.x===a.x&&u.y===a.y&&u.width===a.width&&u.height===a.height||o(),a=u,s=requestAnimationFrame(d)}(),o(),()=>{var d;f.forEach(u=>{r&&u.removeEventListener("scroll",o),i&&u.removeEventListener("resize",o)}),(d=m)==null||d.disconnect(),m=null,c&&cancelAnimationFrame(s)}}const jt=(t,e,o)=>{const n=new Map,r={platform:Bt,...o},i={...r.platform,_c:n};return Pt(t,e,{...r,platform:i})};export{Nt as A,Xt as L,jt as M,Yt as O,zt as g,_t as z};
//# sourceMappingURL=floating-ui.dom.browser.min-c4825b7a.js.map

import{a as g,F as _}from"./jsx-runtime-e43ccb36.js";import{r as n,R as q}from"./index-1b03fe98.js";import{d as me,s as Q,n as H}from"./ddsReferenceTokens-fe3c594e.js";import{S as w,m as le,u as ae,g as $}from"./BaseComponentProps-b46a4458.js";import{a as J,G as ue}from"./GridChild-148017c2.js";import"./Caption-a006c5bc.js";import{H as ge}from"./Heading-3ac6a2d9.js";import{L as Le}from"./Label-60a960ab.js";import"./Legend-bad3d4ec.js";import{L as Te}from"./Link-bef7f478.js";import{P as he}from"./Paragraph-f6678e05.js";import"./TextOverflowEllipsis-c2a9fc8f.js";import{T as ke}from"./Typography-9d6edb9c.js";import{V as ye,H as De}from"./Stack-81288b42.js";import{T as de}from"./ToggleButtonGroup-2dbf2f11.js";import{T as Me}from"./ToggleButton-6d015ca0.js";import{a as Ee,L as He}from"./ListItem-6846c959.js";import{a as we,D as Se}from"./DrawerGroup-327ec227.js";import{D as ve}from"./DescriptionListGroup-70538207.js";import{D as Be}from"./Datepicker-af90ba71.js";import{V as be}from"./VisuallyHidden-5eb64410.js";import{T as fe}from"./TextInput-0a799169.js";import{T as Ge}from"./TextArea-9d4aebb7.js";import{S as Ie}from"./Spinner-c9e13f0c.js";import{S as Ce}from"./Select-e3da82e3.js";import{R as Re}from"./RadioButtonGroup-b2c959c0.js";import{R as Ve}from"./RadioButton-cef85c7e.js";import{L as Ae}from"./LocalMessage-a7a44b10.js";import{I as Xe}from"./InputMessage-40038efc.js";import{G as Ne}from"./GlobalMessage-15800027.js";import{D as _e}from"./Divider-1e1d271f.js";import{a as $e,b as xe,D as Oe}from"./DescriptionListDesc-1980774a.js";import{C as ze}from"./CheckboxGroup-9543f6dd.js";import{C as Ke}from"./Checkbox-76e3dd46.js";import{C as Y}from"./Card-0049d7f7.js";import{B as We}from"./Button-d52fd726.js";import{S as se}from"./StoryTemplate-927617b9.js";import"./libraryAdd-7dde1b65.js";import"./Icon-23caff97.js";import"./Input.styles-c3e229ec.js";import"./Button.tokens-f2748afe.js";import"./SelectionControl.tokens-f8bbd56e.js";import"./index-6fd5a17b.js";import"./ScrollableContainer-8c6b2fba.js";import"./ScrollableContainer.tokens-f54e5649.js";import"./renderInputMessage-5502d01a.js";import"./Input.utils-1d79ab61.js";import"./icon-aa5b86b3.js";import"./scrollbarStyling-6a0ce14f.js";import"./chunk-HLWAVYOI-37025041.js";import"./iframe-1ffb7ac6.js";import"../sb-preview/runtime.js";import"./index-6d191f71.js";import"./index-356e4a49.js";import"./floating-ui.dom-a5fd4560.js";import"./combineHandlers-f6d4455a.js";import"./SelectionControl.styles-ab42d681.js";import"./LocalMessage.tokens-e6955d57.js";import"./normalize-f756ee4b.js";const{spacing:D}=me,f={columnGaps:{[w.XSmall]:D.SizesDdsSpacingLocalX1,[w.Small]:D.SizesDdsSpacingLocalX1,[w.Medium]:D.SizesDdsSpacingLocalX1,[w.Large]:D.SizesDdsSpacingLocalX1,[w.XLarge]:D.SizesDdsSpacingLocalX15},rowGaps:{xs:D.SizesDdsSpacingLocalX1,sm:D.SizesDdsSpacingLocalX1,md:D.SizesDdsSpacingLocalX1,lg:D.SizesDdsSpacingLocalX1,xl:D.SizesDdsSpacingLocalX15},buttonRow:{marginTop:D.SizesDdsSpacingLocalX1}},qe=Q(J)`
  margin-top: ${f.buttonRow.marginTop};
`,Je=Q.div`
  ${({screenSize:e})=>H`
    display: flex;
    flex-wrap: wrap;
    gap: ${f.columnGaps[e]};
  `}
`,Qe=Q.div`
  ${({screenSize:e,length:t})=>t===2?H`
          display: grid;
        `:H`
          display: flex;
          flex-wrap: wrap;
          gap: ${f.columnGaps[e]};
        `}

  ${({screenSize:e,length:t,breakpoint:s=w.XSmall})=>t===2?e>s?H`
            grid-auto-flow: column;
            grid-template-columns: min-content auto;
            column-gap: ${f.columnGaps[e]};
          `:H`
            grid-auto-flow: row;
            row-gap: ${f.rowGaps[le(e)]};
          `:""}

      ${({screenSize:e,length:t,breakpoint:s})=>t===3?s!==void 0&&e>=s?H`
            flex-direction: row;
          `:H`
            flex-direction: column;
          `:""}
`;var r=(e=>(e.Button="Button",e.Card="Card",e.Checkbox="Checkbox",e.CheckboxGroup="CheckboxGroup",e.Datepicker="Datepicker",e.DescriptionList="DescriptionList",e.DescriptionListGroup="DescriptionListGroup",e.DescriptionListDesc="DescriptionListDesc",e.DescriptionListTerm="DescriptionListTerm",e.Divider="Divider",e.Drawer="Drawer",e.DrawerGroup="DrawerGroup",e.GlobalMessage="GlobalMessage",e.Heading="Heading",e.HStack="HStack",e.InputMessage="InputMessage",e.Label="Label",e.Link="Link",e.List="List",e.ListItem="ListItem",e.LocalMessage="LocalMessage",e.Paragraph="Paragraph",e.RadioButton="RadioButton",e.RadioButtonGroup="RadioButtonGroup",e.Select="Select",e.Spinner="Spinner",e.TextArea="TextArea",e.TextInput="TextInput",e.ToggleButton="ToggleButton",e.ToggleButtonGroup="ToggleButtonGroup",e.Typography="Typography",e.VisuallyHidden="VisuallyHidden",e.VStack="VStack",e))(r||{});const A="FIELD_MISSING_NAME_OR_ID",V=(e,t)=>{let s="";switch(e.component){case r.Checkbox:case r.ToggleButton:return s=e.props.name??e.props.id??A,t={...t,[s]:e.props.defaultChecked},t;case r.CheckboxGroup:case r.ToggleButtonGroup:return e.children.forEach(m=>{t=V(m,t)}),t;case r.RadioButton:case r.RadioButtonGroup:return s=e.props.name??e.props.id??A,t={...t,[s]:e.props.value},t;case r.Select:return s=e.name??e.props.id??A,t={...t,[s]:e.props.defaultValue},t;case r.Datepicker:case r.TextInput:return s=e.props.name??e.props.id??A,t={...t,[s]:e.props.defaultValue},t}return t},pe=(e,t,s,m,u)=>g(qe,{columnsOccupied:"all",children:g(Je,{screenSize:u,children:t.fields.map((L,T)=>!L.hide&&k(L,T,s,m,u))})},e),k=(e,t,s,m,u,L)=>{const T=o=>s(o),S=o=>s(o);switch(e.component){case r.Button:return n.createElement(We,{...e.props,key:t});case r.Card:return e.innerHTML?n.createElement(Y,{...e.props,key:t},e.innerHTML):(e.children&&(Y,{...e.props},e.children),g(_,{}));case r.Checkbox:return n.createElement(Ke,{...e.props,key:t,onChange:T});case r.CheckboxGroup:return n.createElement(ze,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&k(o,i,s,m,u)));case r.Datepicker:return n.createElement(Be,{...e.props,key:t,onChange:T});case r.DescriptionList:return n.createElement(Oe,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&k(o,i,s,m,u)));case r.DescriptionListGroup:return n.createElement(ve,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&k(o,i,s,m,u)));case r.DescriptionListDesc:return n.createElement(xe,{...e.props,key:t},e.innerHTML);case r.DescriptionListTerm:return n.createElement($e,{...e.props,key:t},e.innerHTML);case r.Divider:return n.createElement(_e,{...e.props,key:t});case r.Drawer:return n.createElement(Se,{...e.props,key:t},e.innerHTML);case r.DrawerGroup:return n.createElement(we,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&k(o,i,s,m,u)));case r.GlobalMessage:return n.createElement(Ne,{...e.props,key:t},e.innerHTML);case r.Heading:return n.createElement(ge,{...e.props,key:t},e.innerHTML);case r.HStack:return n.createElement(De,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&k(o,i,s,m,u)));case r.InputMessage:return n.createElement(Xe,{...e.props,key:t});case r.Label:return n.createElement(Le,{...e.props,key:t},e.innerHTML);case r.Link:return n.createElement(Te,{...e.props,key:t},e.innerHTML);case r.List:return n.createElement(He,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&k(o,i,s,m,u)));case r.ListItem:return n.createElement(Ee,{...e.props,key:t},e.innerHTML);case r.LocalMessage:return n.createElement(Ae,{...e.props,key:t},e.innerHTML);case r.Paragraph:return n.createElement(he,{...e.props,key:t},e.innerHTML);case r.RadioButton:return n.createElement(Ve,{...e.props,key:t,onChange:T});case r.RadioButtonGroup:return e.props.direction=u>w.XSmall?"row":"column",n.createElement(Re,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&k(o,i,s,m,u)));case r.Select:return n.createElement(Ce,{...e.props,key:t,onChange:o=>m(o,e.name)});case r.Spinner:return n.createElement(Ie,{...e.props,key:t});case r.TextArea:return n.createElement(Ge,{...e.props,key:t,onChange:S,onBlur:L});case r.TextInput:return n.createElement(fe,{...e.props,key:t,onChange:T,onBlur:L});case r.ToggleButton:return n.createElement(Me,{...e.props,key:t,onChange:T});case r.ToggleButtonGroup:return n.createElement(de,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&k(o,i,s,m,u)));case r.Typography:return n.createElement(ke,{...e.props,key:t},e.innerHTML);case r.VisuallyHidden:return n.createElement(be,{...e.props,key:t},e.innerHTML);case r.VStack:return n.createElement(ye,{...e.props,key:t},e.children.map((o,i)=>!o.hide&&k(o,i,s,m,u)));default:return g(_,{})}},K=e=>e&&e.validations!==void 0,ce=e=>(e==null?void 0:e.values)!==void 0,W=e=>e.rowType!==void 0,Z=e=>e.rowType!==void 0,x=e=>{const{fields:t=[],stateOnChange:s,as:m}=e,{id:u,className:L,htmlProps:T,...S}=e,[o,i]=n.useState({}),[M,G]=n.useState({});n.useEffect(()=>{let a={};t.forEach(l=>{W(l)?l.fields.forEach(p=>{a=V(p,a)}):a=V(l,a)}),i(a)},[]),n.useEffect(()=>{s&&s(o,M)},[o,M]);const v=(a,l)=>{const p=c(a);p&&K(p)&&(p.props.errorMessage=l)},O=(a,l)=>{for(const p of l){if(K(p)&&p.props&&p.props.name===a)return p;if(W(p)&&p.fields&&Array.isArray(p.fields)){const y=O(a,p.fields);if(y)return y}}return null},c=a=>O(a,t),h=(a,l,p)=>{const y={...M,[l]:{value:p,errors:a}};G(y)},d=(a,l)=>{var y;const p=c(a);if(p&&K(p)){const R=((y=p.validations)==null?void 0:y.filter(z=>!z.rule(l)))??[];h(R,a,l),v(a,R.length>0?R[0].message:"")}},B=a=>{const{name:l,value:p}=a.target;d(l,p)},I=a=>{var U;const{id:l,name:p,value:y}=a.target,R=(U=a.target)==null?void 0:U.checked;v(p,"");const z={...o,[p||l]:a.target.type==="checkbox"?R:y};i(z)},C=(a,l)=>{let p=null;ce(a)?p=Array.isArray(a)?a:null:p=a??null;const y={...o,[l]:p};i(y)},E=ae();return g(ue,{...$(u,L,T,S),as:m,rowGap:f.rowGaps,children:t.map((a,l)=>W(a)?a.rowType==="button"?!a.hide&&pe(l,a,I,C,E):!a.hide&&g(J,{columnsOccupied:"all",children:g(Qe,{screenSize:E,length:a.fields.length,breakpoint:a.breakpoint,children:a.fields.map((p,y)=>!p.hide&&k(p,y,I,C,E,B))})},l):!a.hide&&g(J,{columnsOccupied:"all",children:k(a,l,I,C,E,B)},l))})};x.displayName="PageGenerator";const Ue=e=>{const{id:t,className:s,htmlProps:m,...u}=e,L={...u};return delete L.rowType,e.as==="div"?g("div",{...$(t,s,m,L),children:e.children}):g(q.Fragment,{children:e.children})},Ye=(e,t,s,m,u)=>n.createElement(Ue,{...t,key:e},t.fields.map((L,T)=>!L.hide&&k(L,T,s,m,u))),ie=e=>{const{fields:t=[],stateOnChange:s,as:m}=e,{id:u,className:L,htmlProps:T,...S}=e,[o,i]=n.useState({});n.useEffect(()=>{let c={};t.forEach(h=>{Z(h)?h.fields.forEach(d=>{c=V(d,c)}):c=V(h,c)}),i(c)},[]),n.useEffect(()=>{s&&s(o)},[o]);const M=c=>{var E;const{id:h,name:d,value:B}=c.target,I=(E=c.target)==null?void 0:E.checked,C={...o,[d||h]:c.target.type==="checkbox"?I:B};i(C)},G=(c,h)=>{let d=null;ce(c)?d=Array.isArray(c)?c:null:d=c??null;const B={...o,[h]:d};i(B)},v=ae();return g(c=>m==="div"?g("div",{...$(u,L,T,S),children:c.children}):m==="form"?g("form",{...$(u,L,T,S),children:c.children}):m==="fragment"?g(q.Fragment,{children:c.children}):g(_,{}),{children:t.map((c,h)=>Z(c)?c.rowType==="button"?!c.hide&&pe(h,c,M,G,v):!c.hide&&Ye(h,c,M,G,v):!c.hide&&g(q.Fragment,{children:k(c,h,M,G,v)},h))})};ie.displayName="SectionGenerator";const Ze=[{component:r.Heading,props:{level:1},innerHTML:"Skjema"},{component:r.Heading,props:{level:2},innerHTML:"Personinformasjon"},{component:r.TextInput,props:{label:"Fødselsnummer",name:"nin"},validations:[{message:"Påkrevd",rule:e=>e.length>0},{message:"Må være omg",rule:e=>e==="omg"}]},{rowType:"standard",fields:[{component:r.Datepicker,props:{label:"Fødselsdato",name:"dateOfBirth",width:"320px"}},{component:r.Select,props:{label:"Status",name:"status",options:[{label:"Glad",value:"glad"},{label:"Superglad",value:"superglad"}]},name:"status"}]},{component:r.Heading,props:{level:3},innerHTML:"Kontaktinformasjon"},{component:r.TextInput,props:{label:"E-post",name:"email"}},{rowType:"standard",fields:[{component:r.TextInput,props:{label:"Landkode",width:"90px",name:"countryCode"},validations:[{message:"Må være +47",rule:e=>e==="+47"}]},{component:r.TextInput,props:{label:"Telefon",name:"phoneNumber"}}]},{component:r.TextArea,props:{label:"Adresse",name:"adresse"},validations:[{message:"Må være omg",rule:e=>e==="omg"}]},{component:r.Heading,props:{level:4},innerHTML:"Annet"},{component:r.CheckboxGroup,props:{label:"Kvalifikasjoner"},children:[{component:r.Checkbox,props:{label:"Glad",value:"glad"}},{component:r.Checkbox,props:{label:"Superglad",value:"superglad"}}]},{component:r.RadioButtonGroup,props:{label:"Kjønn",name:"gender"},children:[{component:r.RadioButton,props:{label:"Mann",value:"mann",name:"gender"}},{component:r.RadioButton,props:{label:"Kvinne",value:"kvinne",name:"gender"}}]},{rowType:"button",fields:[{component:r.Button,props:{label:"Lagre",type:"submit"}},{component:r.Button,props:{label:"Superlagre",purpose:"secondary",onClick:e=>{e.preventDefault(),console.log("Du superlagret!")}}}]}],P=e=>({component:r.Heading,props:{level:5,withMargins:!0},innerHTML:e}),F=(e,t)=>({component:r.DescriptionList,props:{direction:t},children:e}),b=(e,t)=>({component:r.DescriptionListGroup,props:{margin:"0"},children:[{component:r.DescriptionListTerm,props:{},innerHTML:e},{component:r.DescriptionListDesc,props:{},innerHTML:t}]}),Pe=()=>[P("DescriptionList - direction row"),F([b("Term1","Desc1"),b("Term2","Desc2"),b("Term3","Desc3")],"row"),P("DescriptionList - direction column"),F([b("Term1","Desc1"),b("Term2","Desc2"),b("Term3","Desc3")],"column"),{component:r.Card,props:{cardType:"info",color:"strokeLight"},innerHTML:"Dette er et Card"},{component:r.DrawerGroup,props:{children:g(_,{})},children:[{component:r.Button,props:{purpose:"secondary",label:"Trigger Drawer"}},{component:r.Drawer,props:{header:"Rediger avdøde"},innerHTML:"Dette er en Drawer"}]},{component:r.HStack,props:{},children:[{component:r.LocalMessage,props:{},innerHTML:"Element i HStack"},{component:r.LocalMessage,props:{},innerHTML:"Element i HStack"},{component:r.LocalMessage,props:{},innerHTML:"Element i HStack"}]},{component:r.VStack,props:{},children:[{component:r.LocalMessage,props:{},innerHTML:"Element i VStack"},{component:r.LocalMessage,props:{},innerHTML:"Element i VStack"},{component:r.LocalMessage,props:{},innerHTML:"Element i VStack"}]},{component:r.Divider,props:{}},{component:r.InputMessage,props:{message:"Dette er en InputMessage",messageType:"error"}},{component:r.Label,props:{},innerHTML:"Dette er en Label"},{component:r.Link,props:{href:""},innerHTML:"Dette er en Link"},{component:r.Paragraph,props:{},innerHTML:"Dette er en Paragraph"},{component:r.Spinner,props:{}},{component:r.Typography,props:{},innerHTML:"Dette er en Typography"},{component:r.VisuallyHidden,props:{as:"div"},innerHTML:"Dette er en VisuallyHidden"},{component:r.ToggleButtonGroup,props:{label:"Dette er ToggleButtonGroup"},children:[{component:r.ToggleButton,props:{label:"ToggleButton 1"}},{component:r.ToggleButton,props:{label:"ToggleButton 2"}}]},{component:r.List,children:[{component:r.ListItem,innerHTML:"Item 1"},{component:r.ListItem,innerHTML:"Item 2"}]}],ot={title:"dds-page-generator/PageGenerator",component:x},X=()=>g(se,{title:"PageGenerator - Form",display:"grid",children:g(x,{as:"form",fields:Ze,stateOnChange:(e,t)=>{console.log(e,t)}})}),N=()=>g(se,{title:"PageGenerator - Other",display:"grid",children:g(x,{as:"form",fields:Pe(),stateOnChange:e=>{console.log(e)}})});var j,ee,re;X.parameters={...X.parameters,docs:{...(j=X.parameters)==null?void 0:j.docs,source:{originalSource:`() => {
  return <StoryTemplate title="PageGenerator - Form" display="grid">
      <PageGenerator as="form" fields={FormFields} stateOnChange={(newState?: object, errors?: object) => {
      console.log(newState, errors);
    }} />
    </StoryTemplate>;
}`,...(re=(ee=X.parameters)==null?void 0:ee.docs)==null?void 0:re.source}}};var te,oe,ne;N.parameters={...N.parameters,docs:{...(te=N.parameters)==null?void 0:te.docs,source:{originalSource:`() => {
  return <StoryTemplate title="PageGenerator - Other" display="grid">
      <PageGenerator as="form" fields={OtherFields()} stateOnChange={(newState?: object) => {
      console.log(newState);
    }} />
    </StoryTemplate>;
}`,...(ne=(oe=N.parameters)==null?void 0:oe.docs)==null?void 0:ne.source}}};const nt=["Form","Other"];export{X as Form,N as Other,nt as __namedExportsOrder,ot as default};
//# sourceMappingURL=PageGenerator.stories-aa44ab46.js.map

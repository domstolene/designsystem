import{_ as Y}from"./tslib.es6-49c71693.js";import{s as d,a as v,j as W}from"./ddsReferenceTokens-f1d35829.js";import{r}from"./index-d47b1f5a.js";import{a as $}from"./dds-core-c67132cd.js";import{_ as u}from"./LocalMessage.tokens-d952e602.js";import{s as h}from"./ScrollableContainer.tokens-85e346c5.js";import{V as ce,_ as z}from"./dds-form-9b45fc8d.js";var R=h.track,p=h.thumb,D=h.minThumbHeightPx,ue=d.div.withConfig({displayName:"Scrollbar__ScrollbarOuterWrapper",componentId:"sc-mphi5n-0"})([""]),de=d.div.withConfig({displayName:"Scrollbar__ScrollbarElements",componentId:"sc-mphi5n-1"})(["display:block;height:100%;position:relative;display:grid;justify-items:center;"]),he=d.div.withConfig({displayName:"Scrollbar__Track",componentId:"sc-mphi5n-2"})(["bottom:0;top:0;position:absolute;background-color:",";border-radius:",";width:",";"],R.backgroundColor,R.borderRadius,R.width),me=d.div.withConfig({displayName:"Scrollbar__Thumb",componentId:"sc-mphi5n-3"})(["position:absolute;background-color:",";border-radius:",";width:",";transition:background-color 0.2s;&:hover{background-color:",";}"],p.base.backgroundColor,p.base.borderRadius,p.base.width,p.hover.backgroundColor),A=function(o){var _=o.id,C=o.className,T=o.htmlProps,e=o.contentRef,k=Y(o,["id","className","htmlProps","contentRef"]),l=r.useRef(null),b=r.useRef(null),f=r.useState(D),N=u(f,2),c=N[0],B=N[1],Q=r.useState(!0),E=u(Q,2),V=E[0],q=E[1],F=r.useState(0),P=u(F,2),G=P[0],J=P[1],H=r.useRef(null),K=r.useState(0),I=u(K,2),x=I[0],U=I[1],X=r.useState(0),L=u(X,2),Z=L[0],ee=L[1],te=r.useState(!1),M=u(te,2),g=M[0],j=M[1];function re(t,a){var n=t.clientHeight,i=t.scrollHeight;q(n!==i),B(Math.max(n/i*a,D))}var oe=r.useCallback(function(t){if(e&&e.current){var a=l.current,n=e.current;if(a&&n){var i=t.clientY,s=t.target,y=s.getBoundingClientRect(),ae=y.top,ie=-(c/2),le=(i-ae+ie)/a.clientHeight,se=Math.floor(le*n.scrollHeight);n.scrollTo({top:se,behavior:"smooth"})}}},[c]),O=r.useCallback(function(){if(!(!(e!=null&&e.current)||!l.current||!b.current)){var t=e.current,a=t.scrollTop,n=t.scrollHeight,i=l.current.clientHeight,s=+a/+n*i;s=Math.min(s,i-c),J(s)}},[]);r.useEffect(function(){if(e&&e.current&&l.current){var t=e.current,a=l.current.clientHeight;return H.current=new ResizeObserver(function(){re(t,a)}),H.current.observe(t),t.addEventListener("scroll",O),function(){var n;(n=H.current)===null||n===void 0||n.unobserve(t),t.removeEventListener("scroll",O)}}},[]);var ne=r.useCallback(function(t){U(t.clientY),e&&e.current&&ee(e.current.scrollTop),j(!0)},[]),m=r.useCallback(function(){g&&j(!1)},[g]),w=r.useCallback(function(t){if(e&&e.current&&g){var a=e.current,n=a.scrollHeight,i=a.offsetHeight,s=(t.clientY-x)*(i/c),y=Math.min(Z+s,n-i);e.current.scrollTop=y}},[g,x,c]);return r.useEffect(function(){return document.addEventListener("mousemove",w),document.addEventListener("mouseup",m),document.addEventListener("mouseleave",m),function(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",m),document.removeEventListener("mouseleave",m)}},[w,m]),V?v(ue,Object.assign({},$(_,C,T,k),{children:W(de,{children:[v(he,{ref:l,onClick:oe}),v(me,{style:{height:c,top:G},ref:b,onMouseDown:ne})]})})):null};A.displayName="Scrollbar";var ve=h.track,be=h.content,fe=h.outerContainer,ge=d.div.withConfig({displayName:"ScrollableContainer__StyledScrollableContainer",componentId:"sc-t0dczu-0"})(["grid-template:auto / 1fr ",";overflow:hidden;position:relative;display:grid;padding:",";"],ve.width,fe.padding),pe=d.div.withConfig({displayName:"ScrollableContainer__Content",componentId:"sc-t0dczu-1"})(["height:",";overflow:auto;scrollbar-width:none;::-webkit-scrollbar{display:none;}padding-right:",";@media (prefers-reduced-motion:no-preference){transition:",";}:focus-visible,.focus-visible{outline:",";outline-offset:",";}"],function(S){var o=S.height;return o},be.paddingRight,ce,z.outline,z.outlineOffset),Se=function(o){var _=o.children,C=o.id,T=o.className,e=o.contentHeight,k=e===void 0?"90vh":e,l=o.htmlProps,b=Y(o,["children","id","className","contentHeight","htmlProps"]),f=r.useRef(null);return W(ge,Object.assign({},$(C,T,l,b),{children:[v(pe,{height:k,ref:f,tabIndex:0,children:_}),v(A,{contentRef:f})]}))};Se.displayName="ScrollableContainer";export{Se as S};
//# sourceMappingURL=ScrollableContainer-fdff97a3.js.map

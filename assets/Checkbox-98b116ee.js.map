{"version":3,"file":"Checkbox-98b116ee.js","sources":["../../../../packages/components/src/components/SelectionControl/Checkbox/CheckboxGroupContext.tsx","../../../../packages/components/src/components/SelectionControl/Checkbox/Checkbox.tsx"],"sourcesContent":["import { Nullable } from '@norges-domstoler/dds-core';\nimport React, { useContext } from 'react';\n\nexport interface CheckboxGroupContextProps {\n  error?: boolean;\n  errorMessageId?: string;\n  uniqueGroupId?: string;\n  tipId?: string;\n}\n\nexport const CheckboxGroupContext =\n  React.createContext<Nullable<CheckboxGroupContextProps>>(null);\n\nexport const useCheckboxGroup = () => {\n  return useContext(CheckboxGroupContext);\n};\n","import { forwardRef, useId } from 'react';\nimport {\n  getBaseHTMLProps,\n  joinClassNames,\n  spaceSeparatedIdListGenerator,\n} from '@norges-domstoler/dds-core';\n\nimport { Typography } from '@norges-domstoler/dds-typography';\nimport { CheckboxProps } from './Checkbox.types';\nimport { useCheckboxGroup } from './CheckboxGroupContext';\nimport { CustomSelectionControl, Container } from '../SelectionControl.styles';\nimport { HiddenInput } from '@norges-domstoler/dds-form';\n\nexport const Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(\n  (props, ref) => {\n    const {\n      id,\n      name,\n      label,\n      error,\n      disabled,\n      readOnly,\n      indeterminate,\n      'aria-describedby': ariaDescribedby,\n      className,\n      htmlProps = {},\n      ...rest\n    } = props;\n\n    const generatedId = useId();\n    const uniqueId = id ?? `${generatedId}-checkbox`;\n    const checkboxGroup = useCheckboxGroup();\n\n    const hasLabel = !!label;\n\n    const {\n      style,\n      className: htmlPropsClassName,\n      ...restHtmlProps\n    } = htmlProps;\n\n    const containerProps = {\n      error: error || checkboxGroup?.error,\n      disabled,\n      indeterminate,\n      htmlFor: uniqueId,\n      hasLabel,\n      className: joinClassNames(className, htmlPropsClassName),\n      style,\n    };\n    type AriaChecked = 'mixed' | boolean | undefined;\n\n    const inputProps = {\n      ...getBaseHTMLProps(uniqueId, restHtmlProps, rest),\n      ref,\n      name,\n      indeterminate,\n      disabled,\n      'aria-describedby': spaceSeparatedIdListGenerator([\n        checkboxGroup?.tipId,\n        checkboxGroup?.errorMessageId,\n        ariaDescribedby,\n      ]),\n      'aria-invalid': error || checkboxGroup?.error ? true : undefined,\n      'aria-labelledby': checkboxGroup?.uniqueGroupId,\n      'aria-checked': indeterminate ? ('mixed' as AriaChecked) : undefined,\n      'aria-readonly': readOnly,\n    };\n\n    return (\n      <Container {...containerProps} controlType=\"checkbox\">\n        <HiddenInput\n          {...inputProps}\n          type=\"checkbox\"\n          data-indeterminate={indeterminate}\n        />\n        <CustomSelectionControl controlType=\"checkbox\" />\n        {hasLabel && (\n          <Typography color=\"inherit\" as=\"span\" typographyType=\"bodySans02\">\n            {label}\n          </Typography>\n        )}\n      </Container>\n    );\n  }\n);\n\nCheckbox.displayName = 'Checkbox';\n"],"names":["CheckboxGroupContext","React","useCheckboxGroup","useContext","Checkbox","forwardRef","props","ref","id","name","label","error","disabled","readOnly","indeterminate","ariaDescribedby","className","htmlProps","rest","generatedId","useId","uniqueId","checkboxGroup","hasLabel","style","htmlPropsClassName","restHtmlProps","containerProps","joinClassNames","inputProps","getBaseHTMLProps","spaceSeparatedIdListGenerator","jsxs","Container","jsx","HiddenInput","CustomSelectionControl","Typography"],"mappings":"4TAUa,MAAAA,EACXC,EAAM,cAAmD,IAAI,EAElDC,EAAmB,IACvBC,EAAAA,WAAWH,CAAoB,ECD3BI,EAAWC,EAAA,WACtB,CAACC,EAAOC,IAAQ,CACR,KAAA,CACJ,GAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,SAAAC,EACA,cAAAC,EACA,mBAAoBC,EACpB,UAAAC,EACA,UAAAC,EAAY,CAAC,EACb,GAAGC,CACD,EAAAZ,EAEEa,EAAcC,EAAAA,QACdC,EAAWb,GAAM,GAAGW,aACpBG,EAAgBpB,IAEhBqB,EAAW,CAAC,CAACb,EAEb,CACJ,MAAAc,EACA,UAAWC,EACX,GAAGC,CACD,EAAAT,EAEEU,EAAiB,CACrB,MAAOhB,IAASW,GAAA,YAAAA,EAAe,OAC/B,SAAAV,EACA,cAAAE,EACA,QAASO,EACT,SAAAE,EACA,UAAWK,EAAeZ,EAAWS,CAAkB,EACvD,MAAAD,CAAA,EAIIK,EAAa,CACjB,GAAGC,EAAiBT,EAAUK,EAAeR,CAAI,EACjD,IAAAX,EACA,KAAAE,EACA,cAAAK,EACA,SAAAF,EACA,mBAAoBmB,EAA8B,CAChDT,GAAA,YAAAA,EAAe,MACfA,GAAA,YAAAA,EAAe,eACfP,CAAA,CACD,EACD,eAAgBJ,GAASW,GAAA,MAAAA,EAAe,MAAQ,GAAO,OACvD,kBAAmBA,GAAA,YAAAA,EAAe,cAClC,eAAgBR,EAAiB,QAA0B,OAC3D,gBAAiBD,CAAA,EAGnB,OACGmB,EAAAC,EAAA,CAAW,GAAGN,EAAgB,YAAY,WACzC,SAAA,CAAAO,EAACC,EAAA,CACE,GAAGN,EACJ,KAAK,WACL,qBAAoBf,CAAA,CACtB,EACAoB,EAACE,EAAuB,CAAA,YAAY,UAAW,CAAA,EAC9Cb,KACEc,EAAW,CAAA,MAAM,UAAU,GAAG,OAAO,eAAe,aAClD,SACH3B,CAAA,CAAA,CAEJ,CAAA,CAAA,CAEJ,CACF,EAEAN,EAAS,YAAc"}
function j(t){return t.split("-")[1]}function at(t){return t==="y"?"height":"width"}function z(t){return t.split("-")[0]}function G(t){return["top","bottom"].includes(z(t))?"x":"y"}function pt(t,e,o){let{reference:n,floating:r}=t;const i=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2,s=G(e),a=at(s),c=n[a]/2-r[a]/2,g=s==="x";let f;switch(z(e)){case"top":f={x:i,y:n.y-r.height};break;case"bottom":f={x:i,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:l};break;case"left":f={x:n.x-r.width,y:l};break;default:f={x:n.x,y:n.y}}switch(j(e)){case"start":f[s]-=c*(o&&g?-1:1);break;case"end":f[s]+=c*(o&&g?-1:1)}return f}const Pt=async(t,e,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:l}=o,s=i.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(e));let c=await l.getElementRects({reference:t,floating:e,strategy:r}),{x:g,y:f}=pt(c,n,a),h=n,p={},u=0;for(let d=0;d<s.length;d++){const{name:m,fn:y}=s[d],{x,y:w,data:$,reset:b}=await y({x:g,y:f,initialPlacement:n,placement:h,strategy:r,middlewareData:p,rects:c,platform:l,elements:{reference:t,floating:e}});g=x??g,f=w??f,p={...p,[m]:{...p[m],...$}},b&&u<=50&&(u++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(c=b.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:r}):b.rects),{x:g,y:f}=pt(c,h,a)),d=-1)}return{x:g,y:f,placement:h,strategy:r,middlewareData:p}};function J(t,e){return typeof t=="function"?t(e):t}function vt(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function Q(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function bt(t,e){var o;e===void 0&&(e={});const{x:n,y:r,platform:i,rects:l,elements:s,strategy:a}=t,{boundary:c="clippingAncestors",rootBoundary:g="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=J(e,t),u=vt(p),d=s[h?f==="floating"?"reference":"floating":f],m=Q(await i.getClippingRect({element:(o=await(i.isElement==null?void 0:i.isElement(d)))==null||o?d:d.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:g,strategy:a})),y=f==="floating"?{...l.floating,x:n,y:r}:l.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),w=await(i.isElement==null?void 0:i.isElement(x))&&await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1},$=Q(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:x,strategy:a}):y);return{top:(m.top-$.top+u.top)/w.y,bottom:($.bottom-m.bottom+u.bottom)/w.y,left:(m.left-$.left+u.left)/w.x,right:($.right-m.right+u.right)/w.x}}const rt=Math.min,Ct=Math.max;function lt(t,e,o){return Ct(t,rt(e,o))}const Nt=t=>({name:"arrow",options:t,async fn(e){const{x:o,y:n,placement:r,rects:i,platform:l,elements:s}=e,{element:a,padding:c=0}=J(t,e)||{};if(a==null)return{};const g=vt(c),f={x:o,y:n},h=G(r),p=at(h),u=await l.getDimensions(a),d=h==="y",m=d?"top":"left",y=d?"bottom":"right",x=d?"clientHeight":"clientWidth",w=i.reference[p]+i.reference[h]-f[h]-i.floating[p],$=f[h]-i.reference[h],b=await(l.getOffsetParent==null?void 0:l.getOffsetParent(a));let O=b?b[x]:0;O&&await(l.isElement==null?void 0:l.isElement(b))||(O=s.floating[x]||i.floating[p]);const D=w/2-$/2,F=O/2-u[p]/2-1,M=rt(g[m],F),B=rt(g[y],F),v=M,L=O-u[p]-B,R=O/2-u[p]/2+D,T=lt(v,R,L),E=j(r)!=null&&R!=T&&i.reference[p]/2-(R<v?M:B)-u[p]/2<0?R<v?v-R:L-R:0;return{[h]:f[h]-E,data:{[h]:T,centerOffset:R-T+E}}}}),Ft=["top","right","bottom","left"];Ft.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const kt={left:"right",right:"left",bottom:"top",top:"bottom"};function U(t){return t.replace(/left|right|bottom|top/g,e=>kt[e])}function Wt(t,e,o){o===void 0&&(o=!1);const n=j(t),r=G(t),i=at(r);let l=r==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(l=U(l)),{main:l,cross:U(l)}}const Ht={start:"end",end:"start"};function it(t){return t.replace(/start|end/g,e=>Ht[e])}const It=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o;const{placement:n,middlewareData:r,rects:i,initialPlacement:l,platform:s,elements:a}=e,{mainAxis:c=!0,crossAxis:g=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:u=!0,...d}=J(t,e),m=z(n),y=z(l)===l,x=await(s.isRTL==null?void 0:s.isRTL(a.floating)),w=f||(y||!u?[U(l)]:function(v){const L=U(v);return[it(v),L,it(L)]}(l));f||p==="none"||w.push(...function(v,L,R,T){const E=j(v);let A=function(k,ot,Ot){const dt=["left","right"],mt=["right","left"],St=["top","bottom"],Dt=["bottom","top"];switch(k){case"top":case"bottom":return Ot?ot?mt:dt:ot?dt:mt;case"left":case"right":return ot?St:Dt;default:return[]}}(z(v),R==="start",T);return E&&(A=A.map(k=>k+"-"+E),L&&(A=A.concat(A.map(it)))),A}(l,u,p,x));const $=[l,...w],b=await bt(e,d),O=[];let D=((o=r.flip)==null?void 0:o.overflows)||[];if(c&&O.push(b[m]),g){const{main:v,cross:L}=Wt(n,i,x);O.push(b[v],b[L])}if(D=[...D,{placement:n,overflows:O}],!O.every(v=>v<=0)){var F,M;const v=(((F=r.flip)==null?void 0:F.index)||0)+1,L=$[v];if(L)return{data:{index:v,overflows:D},reset:{placement:L}};let R=(M=D.filter(T=>T.overflows[0]<=0).sort((T,E)=>T.overflows[1]-E.overflows[1])[0])==null?void 0:M.placement;if(!R)switch(h){case"bestFit":{var B;const T=(B=D.map(E=>[E.placement,E.overflows.filter(A=>A>0).reduce((A,k)=>A+k,0)]).sort((E,A)=>E[1]-A[1])[0])==null?void 0:B[0];T&&(R=T);break}case"initialPlacement":R=l}if(n!==R)return{reset:{placement:R}}}return{}}}},qt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:o,y:n}=e,r=await async function(i,l){const{placement:s,platform:a,elements:c}=i,g=await(a.isRTL==null?void 0:a.isRTL(c.floating)),f=z(s),h=j(s),p=G(s)==="x",u=["left","top"].includes(f)?-1:1,d=g&&p?-1:1,m=J(l,i);let{mainAxis:y,crossAxis:x,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return h&&typeof w=="number"&&(x=h==="end"?-1*w:w),p?{x:x*d,y:y*u}:{x:y*u,y:x*d}}(e,t);return{x:o+r.x,y:n+r.y,data:r}}}};function Mt(t){return t==="x"?"y":"x"}const Xt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:r}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:s={fn:m=>{let{x:y,y:x}=m;return{x:y,y:x}}},...a}=J(t,e),c={x:o,y:n},g=await bt(e,a),f=G(z(r)),h=Mt(f);let p=c[f],u=c[h];if(i){const m=f==="y"?"bottom":"right";p=lt(p+g[f==="y"?"top":"left"],p,p-g[m])}if(l){const m=h==="y"?"bottom":"right";u=lt(u+g[h==="y"?"top":"left"],u,u-g[m])}const d=s.fn({...e,[f]:p,[h]:u});return{...d,data:{x:d.x-o,y:d.y-n}}}}};function S(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function P(t){return S(t).getComputedStyle(t)}function Rt(t){return t instanceof S(t).Node}function V(t){return Rt(t)?(t.nodeName||"").toLowerCase():"#document"}function C(t){return t instanceof S(t).HTMLElement}function W(t){return t instanceof S(t).Element}function ht(t){return typeof ShadowRoot<"u"&&(t instanceof S(t).ShadowRoot||t instanceof ShadowRoot)}function _(t){const{overflow:e,overflowX:o,overflowY:n,display:r}=P(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(r)}function Bt(t){return["table","td","th"].includes(V(t))}function ct(t){const e=ft(),o=P(t);return o.transform!=="none"||o.perspective!=="none"||!!o.containerType&&o.containerType!=="normal"||!e&&!!o.backdropFilter&&o.backdropFilter!=="none"||!e&&!!o.filter&&o.filter!=="none"||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function ft(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function et(t){return["html","body","#document"].includes(V(t))}const st=Math.min,q=Math.max,Z=Math.round,K=Math.floor,N=t=>({x:t,y:t});function Lt(t){const e=P(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=C(t),i=r?t.offsetWidth:o,l=r?t.offsetHeight:n,s=Z(o)!==i||Z(n)!==l;return s&&(o=i,n=l),{width:o,height:n,$:s}}function ut(t){return W(t)?t:t.contextElement}function X(t){const e=ut(t);if(!C(e))return N(1);const o=e.getBoundingClientRect(),{width:n,height:r,$:i}=Lt(e);let l=(i?Z(o.width):o.width)/n,s=(i?Z(o.height):o.height)/r;return l&&Number.isFinite(l)||(l=1),s&&Number.isFinite(s)||(s=1),{x:l,y:s}}const gt=N(0);function Tt(t,e,o){var n,r;if(e===void 0&&(e=!0),!ft())return gt;const i=t?S(t):window;return!o||e&&o!==i?gt:{x:((n=i.visualViewport)==null?void 0:n.offsetLeft)||0,y:((r=i.visualViewport)==null?void 0:r.offsetTop)||0}}function I(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const r=t.getBoundingClientRect(),i=ut(t);let l=N(1);e&&(n?W(n)&&(l=X(n)):l=X(t));const s=Tt(i,o,n);let a=(r.left+s.x)/l.x,c=(r.top+s.y)/l.y,g=r.width/l.x,f=r.height/l.y;if(i){const h=S(i),p=n&&W(n)?S(n):n;let u=h.frameElement;for(;u&&n&&p!==h;){const d=X(u),m=u.getBoundingClientRect(),y=getComputedStyle(u),x=m.left+(u.clientLeft+parseFloat(y.paddingLeft))*d.x,w=m.top+(u.clientTop+parseFloat(y.paddingTop))*d.y;a*=d.x,c*=d.y,g*=d.x,f*=d.y,a+=x,c+=w,u=S(u).frameElement}}return Q({width:g,height:f,x:a,y:c})}function H(t){return((Rt(t)?t.ownerDocument:t.document)||window.document).documentElement}function nt(t){return W(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Et(t){return I(H(t)).left+nt(t).scrollLeft}function Y(t){if(V(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ht(t)&&t.host||H(t);return ht(e)?e.host:e}function At(t){const e=Y(t);return et(e)?t.ownerDocument?t.ownerDocument.body:t.body:C(e)&&_(e)?e:At(e)}function tt(t,e){var o;e===void 0&&(e=[]);const n=At(t),r=n===((o=t.ownerDocument)==null?void 0:o.body),i=S(n);return r?e.concat(i,i.visualViewport||[],_(n)?n:[]):e.concat(n,tt(n))}function yt(t,e,o){let n;if(e==="viewport")n=function(r,i){const l=S(r),s=H(r),a=l.visualViewport;let c=s.clientWidth,g=s.clientHeight,f=0,h=0;if(a){c=a.width,g=a.height;const p=ft();(!p||p&&i==="fixed")&&(f=a.offsetLeft,h=a.offsetTop)}return{width:c,height:g,x:f,y:h}}(t,o);else if(e==="document")n=function(r){const i=H(r),l=nt(r),s=r.ownerDocument.body,a=q(i.scrollWidth,i.clientWidth,s.scrollWidth,s.clientWidth),c=q(i.scrollHeight,i.clientHeight,s.scrollHeight,s.clientHeight);let g=-l.scrollLeft+Et(r);const f=-l.scrollTop;return P(s).direction==="rtl"&&(g+=q(i.clientWidth,s.clientWidth)-a),{width:a,height:c,x:g,y:f}}(H(t));else if(W(e))n=function(r,i){const l=I(r,!0,i==="fixed"),s=l.top+r.clientTop,a=l.left+r.clientLeft,c=C(r)?X(r):N(1);return{width:r.clientWidth*c.x,height:r.clientHeight*c.y,x:a*c.x,y:s*c.y}}(e,o);else{const r=Tt(t);n={...e,x:e.x-r.x,y:e.y-r.y}}return Q(n)}function $t(t,e){const o=Y(t);return!(o===e||!W(o)||et(o))&&(P(o).position==="fixed"||$t(o,e))}function xt(t,e){return C(t)&&P(t).position!=="fixed"?e?e(t):t.offsetParent:null}function wt(t,e){const o=S(t);if(!C(t))return o;let n=xt(t,e);for(;n&&Bt(n)&&P(n).position==="static";)n=xt(n,e);return n&&(V(n)==="html"||V(n)==="body"&&P(n).position==="static"&&!ct(n))?o:n||function(r){let i=Y(r);for(;C(i)&&!et(i);){if(ct(i))return i;i=Y(i)}return null}(t)||o}function Vt(t,e,o){const n=C(e),r=H(e),i=o==="fixed",l=I(t,!0,i,e);let s={scrollLeft:0,scrollTop:0};const a=N(0);if(n||!n&&!i)if((V(e)!=="body"||_(r))&&(s=nt(e)),C(e)){const c=I(e,!0,i,e);a.x=c.x+e.clientLeft,a.y=c.y+e.clientTop}else r&&(a.x=Et(r));return{x:l.left+s.scrollLeft-a.x,y:l.top+s.scrollTop-a.y,width:l.width,height:l.height}}const zt={getClippingRect:function(t){let{element:e,boundary:o,rootBoundary:n,strategy:r}=t;const i=o==="clippingAncestors"?function(c,g){const f=g.get(c);if(f)return f;let h=tt(c).filter(m=>W(m)&&V(m)!=="body"),p=null;const u=P(c).position==="fixed";let d=u?Y(c):c;for(;W(d)&&!et(d);){const m=P(d),y=ct(d);y||m.position!=="fixed"||(p=null),(u?!y&&!p:!y&&m.position==="static"&&p&&["absolute","fixed"].includes(p.position)||_(d)&&!y&&$t(c,d))?h=h.filter(x=>x!==d):p=m,d=Y(d)}return g.set(c,h),h}(e,this._c):[].concat(o),l=[...i,n],s=l[0],a=l.reduce((c,g)=>{const f=yt(e,g,r);return c.top=q(f.top,c.top),c.right=st(f.right,c.right),c.bottom=st(f.bottom,c.bottom),c.left=q(f.left,c.left),c},yt(e,s,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:n}=t;const r=C(o),i=H(o);if(o===i)return e;let l={scrollLeft:0,scrollTop:0},s=N(1);const a=N(0);if((r||!r&&n!=="fixed")&&((V(o)!=="body"||_(i))&&(l=nt(o)),C(o))){const c=I(o);s=X(o),a.x=c.x+o.clientLeft,a.y=c.y+o.clientTop}return{width:e.width*s.x,height:e.height*s.y,x:e.x*s.x-l.scrollLeft*s.x+a.x,y:e.y*s.y-l.scrollTop*s.y+a.y}},isElement:W,getDimensions:function(t){return Lt(t)},getOffsetParent:wt,getDocumentElement:H,getScale:X,async getElementRects(t){let{reference:e,floating:o,strategy:n}=t;const r=this.getOffsetParent||wt,i=this.getDimensions;return{reference:Vt(e,await r(o),n),floating:{x:0,y:0,...await i(o)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>P(t).direction==="rtl"};function Yt(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:a=!1}=n,c=ut(t),g=r||i?[...c?tt(c):[],...tt(e)]:[];g.forEach(m=>{r&&m.addEventListener("scroll",o,{passive:!0}),i&&m.addEventListener("resize",o)});const f=c&&s?function(m,y){let x,w=null;const $=H(m);function b(){clearTimeout(x),w&&w.disconnect(),w=null}return function O(D,F){D===void 0&&(D=!1),F===void 0&&(F=1),b();const{left:M,top:B,width:v,height:L}=m.getBoundingClientRect();if(D||y(),!v||!L)return;const R={rootMargin:-K(B)+"px "+-K($.clientWidth-(M+v))+"px "+-K($.clientHeight-(B+L))+"px "+-K(M)+"px",threshold:q(0,st(1,F))||1};let T=!0;function E(A){const k=A[0].intersectionRatio;if(k!==F){if(!T)return O();k?O(!1,k):x=setTimeout(()=>{O(!1,1e-7)},100)}T=!1}try{w=new IntersectionObserver(E,{...R,root:$.ownerDocument})}catch{w=new IntersectionObserver(E,R)}w.observe(m)}(!0),b}(c,o):null;let h,p=-1,u=null;l&&(u=new ResizeObserver(m=>{let[y]=m;y&&y.target===c&&u&&(u.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{u&&u.observe(e)})),o()}),c&&!a&&u.observe(c),u.observe(e));let d=a?I(t):null;return a&&function m(){const y=I(t);!d||y.x===d.x&&y.y===d.y&&y.width===d.width&&y.height===d.height||o(),d=y,h=requestAnimationFrame(m)}(),o(),()=>{g.forEach(m=>{r&&m.removeEventListener("scroll",o),i&&m.removeEventListener("resize",o)}),f&&f(),u&&u.disconnect(),u=null,a&&cancelAnimationFrame(h)}}const _t=(t,e,o)=>{const n=new Map,r={platform:zt,...o},i={...r.platform,_c:n};return Pt(t,e,{...r,platform:i})};export{It as A,_t as B,qt as L,Xt as O,Yt as V,Nt as g};
//# sourceMappingURL=floating-ui.dom.browser.min-fc8c1a2d.js.map

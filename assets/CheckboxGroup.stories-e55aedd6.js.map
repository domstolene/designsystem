{"version":3,"file":"CheckboxGroup.stories-e55aedd6.js","sources":["../../../../packages/components/src/components/SelectionControl/Checkbox/CheckboxGroup.tsx"],"sourcesContent":["import { useId } from 'react';\nimport {\n  CheckboxGroupContext,\n  CheckboxGroupContextProps,\n} from './CheckboxGroupContext';\nimport { Typography } from '@norges-domstoler/dds-typography';\nimport {\n  derivativeIdGenerator,\n  RequiredMarker,\n  BaseComponentPropsWithChildren,\n  Direction,\n  getBaseHTMLProps,\n} from '@norges-domstoler/dds-core';\n\nimport { renderInputMessage } from '../../../utils/renderInputMessage';\nimport {\n  OuterGroupContainer,\n  GroupContainer,\n} from '../SelectionControl.styles';\n\nexport type CheckboxGroupProps = BaseComponentPropsWithChildren<\n  HTMLDivElement,\n  {\n    /**Ledetekst for gruppen. */\n    label?: string;\n    /**Retningen barna gjengis i. */\n    direction?: Direction;\n    /**Custom id for for gruppen, knytter ledetekst til gruppen via `aria-label`. */\n    groupId?: string;\n    /**Meldingen som vises ved valideringsfeil. Sender error-tilstand til barna når det finnes  og setter `aria-describedby` for barna. */\n    errorMessage?: string;\n    tip?: string;\n    /**Indikerer at det er påkrevd å velge minst ett alternativ. Innebærer visuell endring. **OBS!** `required` må i tillegg gis til `<Checkbox />` manuelt. */\n    required?: boolean;\n  }\n>;\n\nexport const CheckboxGroup = (props: CheckboxGroupProps) => {\n  const {\n    label,\n    direction = 'row',\n    errorMessage,\n    tip,\n    required,\n    groupId,\n    children,\n    id,\n    className,\n    htmlProps = {},\n    ...rest\n  } = props;\n\n  const { 'aria-required': ariaRequired } = htmlProps;\n\n  const generatedId = useId();\n  const uniqueGroupId = groupId ?? `${generatedId}-checkboxGroup`;\n  const hasErrorMessage = !!errorMessage;\n  const showRequiredMarker = required || ariaRequired;\n\n  const errorMessageId = derivativeIdGenerator(uniqueGroupId, 'errorMessage');\n  const tipId = derivativeIdGenerator(uniqueGroupId, 'tip');\n\n  const contextProps: CheckboxGroupContextProps = {\n    error: hasErrorMessage,\n    errorMessageId: errorMessage ? errorMessageId : undefined,\n    uniqueGroupId,\n    tipId: tip ? tipId : undefined,\n  };\n\n  return (\n    <OuterGroupContainer\n      {...getBaseHTMLProps(\n        id,\n        className,\n        { ...htmlProps, 'aria-required': ariaRequired },\n        rest\n      )}\n    >\n      <Typography\n        as=\"span\"\n        typographyType=\"supportingStyleLabel01\"\n        id={uniqueGroupId}\n      >\n        {label} {showRequiredMarker && <RequiredMarker />}\n      </Typography>\n      {renderInputMessage(tip, tipId)}\n      <CheckboxGroupContext.Provider value={{ ...contextProps }}>\n        <GroupContainer\n          role=\"group\"\n          aria-labelledby={uniqueGroupId}\n          aria-describedby={tip ? tipId : undefined}\n          direction={direction}\n        >\n          {children}\n        </GroupContainer>\n      </CheckboxGroupContext.Provider>\n      {renderInputMessage(undefined, undefined, errorMessage, errorMessageId)}\n    </OuterGroupContainer>\n  );\n};\n\nCheckboxGroup.displayName = 'CheckboxGroup';\n"],"names":["CheckboxGroup","props","label","direction","errorMessage","tip","required","groupId","children","id","className","htmlProps","rest","ariaRequired","generatedId","useId","uniqueGroupId","hasErrorMessage","showRequiredMarker","errorMessageId","derivativeIdGenerator","tipId","contextProps","jsxs","OuterGroupContainer","getBaseHTMLProps","Typography","RequiredMarker","renderInputMessage","jsx","CheckboxGroupContext","GroupContainer"],"mappings":"waAqCa,MAAAA,EAAiBC,GAA8B,CACpD,KAAA,CACJ,MAAAC,EACA,UAAAC,EAAY,MACZ,aAAAC,EACA,IAAAC,EACA,SAAAC,EACA,QAAAC,EACA,SAAAC,EACA,GAAAC,EACA,UAAAC,EACA,UAAAC,EAAY,CAAC,EACb,GAAGC,CACD,EAAAX,EAEE,CAAE,gBAAiBY,CAAiB,EAAAF,EAEpCG,EAAcC,EAAAA,QACdC,EAAgBT,GAAW,GAAGO,kBAC9BG,EAAkB,CAAC,CAACb,EACpBc,EAAqBZ,GAAYO,EAEjCM,EAAiBC,EAAsBJ,EAAe,cAAc,EACpEK,EAAQD,EAAsBJ,EAAe,KAAK,EAElDM,EAA0C,CAC9C,MAAOL,EACP,eAAgBb,EAAee,EAAiB,OAChD,cAAAH,EACA,MAAOX,EAAMgB,EAAQ,MAAA,EAIrB,OAAAE,EAACC,EAAA,CACE,GAAGC,EACFhB,EACAC,EACA,CAAE,GAAGC,EAAW,gBAAiBE,CAAa,EAC9CD,CACF,EAEA,SAAA,CAAAW,EAACG,EAAA,CACC,GAAG,OACH,eAAe,yBACf,GAAIV,EAEH,SAAA,CAAAd,EAAM,IAAEgB,KAAuBS,EAAe,EAAA,CAAA,CAAA,CACjD,EACCC,EAAmBvB,EAAKgB,CAAK,EAC9BQ,EAACC,EAAqB,SAArB,CAA8B,MAAO,CAAE,GAAGR,GACzC,SAAAO,EAACE,EAAA,CACC,KAAK,QACL,kBAAiBf,EACjB,mBAAkBX,EAAMgB,EAAQ,OAChC,UAAAlB,EAEC,SAAAK,CAAA,CAAA,EAEL,EACCoB,EAAmB,OAAW,OAAWxB,EAAce,CAAc,CAAA,CAAA,CAAA,CAG5E,EAEAnB,EAAc,YAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
{"version":3,"file":"RadioButtonGroup.stories-7d0bce8b.js","sources":["../../../../packages/components/src/components/SelectionControl/RadioButton/RadioButtonGroup.tsx"],"sourcesContent":["import {\n  ChangeEvent,\n  forwardRef,\n  HTMLAttributes,\n  ReactElement,\n  Ref,\n  useId,\n  useState,\n} from 'react';\nimport { RadioButtonGroupContext } from './RadioButtonGroupContext';\nimport { Typography } from '@norges-domstoler/dds-typography';\nimport {\n  combineHandlers,\n  RequiredMarker,\n  BaseComponentPropsWithChildren,\n  Direction,\n  getBaseHTMLProps,\n} from '@norges-domstoler/dds-core';\n\nimport { renderInputMessage } from '../../../utils/renderInputMessage';\nimport {\n  GroupContainer,\n  OuterGroupContainer,\n} from '../SelectionControl.styles';\n\nexport type RadioButtonGroupProps<T extends string | number> =\n  BaseComponentPropsWithChildren<\n    HTMLDivElement,\n    {\n      /** Gir alle barna `name` prop.*/\n      name?: string;\n      /**Ledetekst for hele gruppen. */\n      label?: string;\n      /**Funksjonen for onChange-event for barna. */\n      onChange?: (\n        event: ChangeEvent<HTMLInputElement>,\n        value: T | undefined\n      ) => void;\n      /**Legger en markør (*) bak label som indikerer at input er påkrevd. Gjør alle barna påkrevd ved å gi dem `required` prop. */\n      required?: boolean;\n      /**Meldingen som vises ved valideringsfeil. Gir alle barna error prop. */\n      errorMessage?: string;\n      /**Hjelpetekst for gruppen. */\n      tip?: string;\n      /**Gir alle barna `disabled` prop. */\n      disabled?: boolean;\n      /**Gir alle barna `readOnly` prop */\n      readOnly?: boolean;\n      /**Retningen radioknappene skal gjengis i. */\n      direction?: Direction;\n      /**Default verdi - en `<RadioButton />` blir forhåndsvalgt. **OBS!** brukes kun når brukeren ikke skal fylle ut selv. */\n      value?: T | undefined;\n      /**custom id for for gruppen, knytter `label` til gruppen via `aria-label`. */\n      groupId?: string;\n    },\n    Omit<HTMLAttributes<HTMLDivElement>, 'onChange'>\n  >;\n\nconst RadioButtonGroupInner = <T extends string | number = string>(\n  props: RadioButtonGroupProps<T>,\n  ref: Ref<HTMLDivElement>\n) => {\n  const {\n    name,\n    label,\n    groupId,\n    errorMessage,\n    tip,\n    disabled,\n    readOnly,\n    direction = 'row',\n    value,\n    children,\n    required,\n    onChange,\n    id,\n    className,\n    htmlProps = {},\n    ...rest\n  } = props;\n\n  const { 'aria-required': ariaRequired } = htmlProps;\n\n  const [groupValue, setGroupValue] = useState<\n    string | number | null | undefined\n  >(value);\n\n  const generatedId = useId();\n  const uniqueGroupId = groupId ?? `${generatedId}-radioButtonGroup`;\n\n  const handleChange = combineHandlers(\n    (e: ChangeEvent<HTMLInputElement>) => setGroupValue(e.target.value),\n    e => onChange && onChange(e, e.target.value as T)\n  );\n\n  const hasErrorMessage = !!errorMessage;\n  const showRequiredMarker = required || ariaRequired;\n\n  const tipId = tip && `${uniqueGroupId}-tip`;\n  const errorMessageId = errorMessage && `${uniqueGroupId}-errorMessage`;\n\n  const contextProps = {\n    name,\n    disabled,\n    error: hasErrorMessage,\n    errorMessageId: errorMessageId,\n    required,\n    readOnly,\n    value: groupValue,\n    onChange: handleChange,\n  };\n\n  return (\n    <OuterGroupContainer\n      {...getBaseHTMLProps(\n        id,\n        className,\n        { ...htmlProps, 'aria-required': ariaRequired },\n        rest\n      )}\n      ref={ref}\n    >\n      <Typography\n        as=\"span\"\n        typographyType=\"supportingStyleLabel01\"\n        id={uniqueGroupId}\n      >\n        {label} {showRequiredMarker && <RequiredMarker />}\n      </Typography>\n      {renderInputMessage(tip, tipId)}\n      <RadioButtonGroupContext.Provider value={{ ...contextProps }}>\n        <GroupContainer\n          role=\"radiogroup\"\n          direction={direction}\n          aria-labelledby={uniqueGroupId}\n          aria-describedby={tipId}\n          aria-errormessage={errorMessageId}\n        >\n          {children}\n        </GroupContainer>\n      </RadioButtonGroupContext.Provider>\n      {renderInputMessage(undefined, undefined, errorMessage, errorMessageId)}\n    </OuterGroupContainer>\n  );\n};\n\nexport const RadioButtonGroup = forwardRef(RadioButtonGroupInner) as <\n  T extends string | number = string\n>(\n  props: RadioButtonGroupProps<T> & { ref?: Ref<HTMLDivElement> }\n) => ReactElement;\n\n// @ts-expect-error TODO fix RadioButtonGroup type\nRadioButtonGroup.displayName = 'RadioButtonGroup';\n"],"names":["RadioButtonGroupInner","props","ref","name","label","groupId","errorMessage","tip","disabled","readOnly","direction","value","children","required","onChange","id","className","htmlProps","rest","ariaRequired","groupValue","setGroupValue","useState","generatedId","useId","uniqueGroupId","handleChange","combineHandlers","e","hasErrorMessage","showRequiredMarker","tipId","errorMessageId","contextProps","jsxs","OuterGroupContainer","getBaseHTMLProps","Typography","RequiredMarker","renderInputMessage","jsx","RadioButtonGroupContext","GroupContainer","RadioButtonGroup","forwardRef"],"mappings":"waA0DA,MAAMA,GAAwB,CAC5BC,EACAC,IACG,CACG,KAAA,CACJ,KAAAC,EACA,MAAAC,EACA,QAAAC,EACA,aAAAC,EACA,IAAAC,EACA,SAAAC,EACA,SAAAC,EACA,UAAAC,EAAY,MACZ,MAAAC,EACA,SAAAC,EACA,SAAAC,EACA,SAAAC,EACA,GAAAC,EACA,UAAAC,EACA,UAAAC,EAAY,CAAC,EACb,GAAGC,CACD,EAAAjB,EAEE,CAAE,gBAAiBkB,CAAiB,EAAAF,EAEpC,CAACG,EAAYC,CAAa,EAAIC,WAElCX,CAAK,EAEDY,EAAcC,EAAAA,QACdC,EAAgBpB,GAAW,GAAGkB,qBAE9BG,EAAeC,EAClBC,GAAqCP,EAAcO,EAAE,OAAO,KAAK,KAC7Dd,GAAYA,EAASc,EAAGA,EAAE,OAAO,KAAU,CAAA,EAG5CC,EAAkB,CAAC,CAACvB,EACpBwB,EAAqBjB,GAAYM,EAEjCY,EAAQxB,GAAO,GAAGkB,QAClBO,EAAiB1B,GAAgB,GAAGmB,iBAEpCQ,EAAe,CACnB,KAAA9B,EACA,SAAAK,EACA,MAAOqB,EACP,eAAAG,EACA,SAAAnB,EACA,SAAAJ,EACA,MAAOW,EACP,SAAUM,CAAA,EAIV,OAAAQ,EAACC,GAAA,CACE,GAAGC,EACFrB,EACAC,EACA,CAAE,GAAGC,EAAW,gBAAiBE,CAAa,EAC9CD,CACF,EACA,IAAAhB,EAEA,SAAA,CAAAgC,EAACG,EAAA,CACC,GAAG,OACH,eAAe,yBACf,GAAIZ,EAEH,SAAA,CAAArB,EAAM,IAAE0B,KAAuBQ,EAAe,EAAA,CAAA,CAAA,CACjD,EACCC,EAAmBhC,EAAKwB,CAAK,EAC9BS,EAACC,EAAwB,SAAxB,CAAiC,MAAO,CAAE,GAAGR,GAC5C,SAAAO,EAACE,GAAA,CACC,KAAK,aACL,UAAAhC,EACA,kBAAiBe,EACjB,mBAAkBM,EAClB,oBAAmBC,EAElB,SAAApB,CAAA,CAAA,EAEL,EACC2B,EAAmB,OAAW,OAAWjC,EAAc0B,CAAc,CAAA,CAAA,CAAA,CAG5E,EAEaW,EAAmBC,EAAAA,WAAW5C,EAAqB,EAOhE2C,EAAiB,YAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
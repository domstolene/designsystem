import{a as $,u as D}from"./floating-ui.dom.browser.min-bfaefb31.js";import{r}from"./index-c6dae603.js";import{r as q}from"./index-eb008d06.js";const B=e=>{const{element:t,padding:u}=e;function n(s){return Object.prototype.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){return n(t)?t.current!=null?D({element:t.current,padding:u}).fn(s):{}:t?D({element:t,padding:u}).fn(s):{}}}};var g=typeof document<"u"?r.useLayoutEffect:r.useEffect;function R(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let u,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(u=e.length,u!=t.length)return!1;for(n=u;n--!==0;)if(!R(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),u=s.length,u!==Object.keys(t).length)return!1;for(n=u;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[n]))return!1;for(n=u;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!R(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function C(e){const t=r.useRef(e);return g(()=>{t.current=e}),t}function G(e){e===void 0&&(e={});const{placement:t="bottom",strategy:u="absolute",middleware:n=[],platform:s,whileElementsMounted:o,open:S}=e,[w,O]=r.useState({x:null,y:null,strategy:u,placement:t,middlewareData:{},isPositioned:!1}),[h,F]=r.useState(n);R(h,n)||F(n);const c=r.useRef(null),l=r.useRef(null),m=r.useRef(w),k=C(o),M=C(s),[i,L]=r.useState(null),[a,_]=r.useState(null),p=r.useCallback(f=>{c.current!==f&&(c.current=f,L(f))},[]),y=r.useCallback(f=>{l.current!==f&&(l.current=f,_(f))},[]),d=r.useCallback(()=>{if(!c.current||!l.current)return;const f={placement:t,strategy:u,middleware:h};M.current&&(f.platform=M.current),$(c.current,l.current,f).then(A=>{const P={...A,isPositioned:!0};E.current&&!R(m.current,P)&&(m.current=P,q.flushSync(()=>{O(P)}))})},[h,t,u,M]);g(()=>{S===!1&&m.current.isPositioned&&(m.current.isPositioned=!1,O(f=>({...f,isPositioned:!1})))},[S]);const E=r.useRef(!1);g(()=>(E.current=!0,()=>{E.current=!1}),[]),g(()=>{if(i&&a){if(k.current)return k.current(i,a,d);d()}},[i,a,d,k]);const j=r.useMemo(()=>({reference:c,floating:l,setReference:p,setFloating:y}),[p,y]),x=r.useMemo(()=>({reference:i,floating:a}),[i,a]);return r.useMemo(()=>({...w,update:d,refs:j,elements:x,reference:p,floating:y}),[w,d,j,x,p,y])}export{B as a,G as u};
//# sourceMappingURL=floating-ui.react-dom.esm-68eb967a.js.map

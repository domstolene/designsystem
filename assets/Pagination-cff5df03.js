import{a,j as P}from"./jsx-runtime-e43ccb36.js";import{r as x}from"./index-1b03fe98.js";import{d as A,s as S,n as E}from"./ddsReferenceTokens-a28ebf03.js";import"./Caption-d810b87c.js";import"./Heading-0c5437bc.js";import"./Label-05114518.js";import"./Legend-9969638c.js";import"./Link-c264ab95.js";import"./Paragraph-88055bd8.js";import"./TextOverflowEllipsis-6cc9a60a.js";import{T as ee}from"./Typography-d13ef156.js";import{aW as ne,U as ae,Y as te,Z as ie,_ as re}from"./libraryAdd-72c0bfa3.js";import{I as se}from"./Icon-eb542f51.js";import{g as N}from"./BaseComponentProps-b6ad9f7d.js";import{S as oe}from"./Select-28524b0c.js";import{B as h}from"./Button-ba8adec5.js";const j=(e,t)=>{const o=t-e+1;return Array.from({length:o},(k,y)=>y+e)};function le(e,t){const l="truncator";let i;if(e>4){const d=Math.max(1,t<5||e<=7?1:t+1+1>=e?e-4:t>4&&e>7?t-1:1),w=t<5&&e>7?5:t<5&&e<=7?e:t+1+1<e-1?t+1:(t+1+1===e-1,e),v=Math.min(e,w);i=j(d,v);const c=d>2&&e>7,u=e-v>1&&e>7;return c&&u?i=[1,l,...i,l,e]:c&&!u?i=[1,l,...i]:!c&&u&&(i=[...i,l,e]),[...i]}return j(1,e)}const{spacing:T,colors:de}=A,ce={gap:T.SizesDdsSpacingLocalX075},ue={color:de.DdsColorNeutralsGray7},pe={gap:T.SizesDdsSpacingLocalX075},me={gap:T.SizesDdsSpacingLocalX075},ge={outerContainer:pe,indicatorsContainer:me,truncationIcon:ue,list:ce},{outerContainer:fe,indicatorsContainer:he,truncationIcon:ve,list:Ce}=ge,G=S.nav`
  display: flex;
  align-items: center;
`,R=S.ol`
  display: grid;
  grid-auto-flow: column;
  gap: ${Ce.gap};
  margin: 0;
  padding: 0;
`,s=S.li`
  display: inline-grid;
  align-content: center;
  ${({isHidden:e})=>e&&E`
      visibility: hidden;
    `}
`,Pe=S.div`
  display: flex;
  gap: ${fe.gap};
  ${({smallScreen:e})=>e?E`
          flex-direction: column;
          align-items: center;
        `:E`
          justify-content: space-between;
          flex-wrap: wrap;
        `}
`,Se=S.div`
  display: grid;
  grid-auto-flow: column;
  align-items: center;
  gap: ${he.gap};
`,L=x.forwardRef((e,t)=>{const{itemsAmount:o,defaultItemsPerPage:k=10,defaultActivePage:y=1,withPagination:l=!0,withCounter:i,withSelect:d,selectOptions:w=[{label:"10",value:10},{label:"25",value:25},{label:"50",value:50},{label:"Alle",value:o}],smallScreen:v,onChange:c,onSelectOptionChange:u,id:B,className:O,htmlProps:V,...H}=e,[r,D]=x.useState(y),[p,F]=x.useState(k),b=Math.ceil(o/p),$=le(b,r),m=(n,C)=>{C&&D(C),n&&c&&c(n,C)},X=n=>{F(n==null?void 0:n.value),u&&u(n)},U=$.length>0?$.map((n,C)=>{const I=n===r;return a(s,{children:n!=="truncator"?a(h,{purpose:I?"primary":"secondary",appearance:I?"filled":"ghost",size:"small",onClick:Q=>{m(Q,n)},"aria-label":I?`Nåværende side (side ${n})`:`Gå til side ${n}`,children:n}):a(se,{icon:ne,color:ve.color})},`pagination-item-${C}`)}):void 0,q=a(h,{purpose:"secondary",appearance:"ghost",size:"small",icon:ie,onClick:n=>{m(n,r-1)},"aria-label":"Gå til forrige siden"}),z=a(h,{purpose:"secondary",appearance:"ghost",size:"small",icon:re,onClick:n=>{m(n,r+1)},"aria-label":"Gå til neste siden"}),M=!d&&!i&&{...N(B,O,V,H)},W={...N(B,O,V,H),smallScreen:v},g=r===1,f=r===b,Y=l?a(G,{ref:t,"aria-label":"paginering",...M,children:P(R,{children:[a(s,{isHidden:g,"aria-hidden":g,children:q}),U,a(s,{isHidden:f,"aria-hidden":f,children:z})]})}):null,Z=l?a(G,{ref:t,"aria-label":"paginering",...M,children:P(R,{children:[a(s,{isHidden:g,"aria-hidden":g,children:a(h,{purpose:"secondary",appearance:"ghost",size:"small",icon:ae,onClick:n=>{m(n,1)},"aria-label":"Gå til første siden"})}),a(s,{isHidden:g,"aria-hidden":g,children:q}),a(s,{children:a(h,{size:"small",onClick:n=>{m(n,r)},children:r})}),a(s,{isHidden:f,"aria-hidden":f,children:z}),a(s,{isHidden:f,"aria-hidden":f,children:a(h,{purpose:"secondary",appearance:"ghost",size:"small",icon:te,onClick:n=>{m(n,b)},"aria-label":"Gå til siste siden"})})]})}):null,J=r===1?1:r*p-p+1,K=r===b?o:r*p,_=v?Z:Y;return!i&&!d?_:P(Pe,{...W,children:[P(Se,{children:[d&&a(oe,{options:w,isSearchable:!1,width:"88px",defaultValue:{label:p.toString(),value:p},isClearable:!1,onChange:X,"aria-label":"Antall elementer per side"}),i&&P(ee,{typographyType:"supportingStyleLabel01",as:"p",children:["Viser ",J,"-",K," av ",o]})]}),_]})});L.displayName="Pagination";try{L.displayName="Pagination",L.__docgenInfo={description:"",displayName:"Pagination",props:{itemsAmount:{defaultValue:null,description:"Totalt antall elementer å paginere.",name:"itemsAmount",required:!0,type:{name:"number"}},defaultItemsPerPage:{defaultValue:null,description:"Antall elementer per side ved innlastning av komponenten.",name:"defaultItemsPerPage",required:!1,type:{name:"number | undefined"}},defaultActivePage:{defaultValue:null,description:"Den aktive siden ved innlastning av komponenten.",name:"defaultActivePage",required:!1,type:{name:"number | undefined"}},withPagination:{defaultValue:null,description:"Spesifiserer om selve pagineringen skal vises.",name:"withPagination",required:!1,type:{name:"boolean | undefined"}},withCounter:{defaultValue:null,description:"Spesifiserer om teksten `'Vis x-y av z'` skal vises.",name:"withCounter",required:!1,type:{name:"boolean | undefined"}},withSelect:{defaultValue:null,description:"Spesifiserer om `<Select />` til å velge antall resultater per side skal vises.",name:"withSelect",required:!1,type:{name:"boolean | undefined"}},selectOptions:{defaultValue:null,description:'Custom options for `<Select />`. **OBS!** hvis det settes custom `selectOptions` bør "alle"-alternativet inkluderes der det er relevant, da brukere ofte liker å ha muligheten.',name:"selectOptions",required:!1,type:{name:"PaginationOption[] | undefined"}},onChange:{defaultValue:null,description:"Brukes til å hente side og eventuelt annen logikk ved endring av side.",name:"onChange",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>, page: number) => void) | undefined"}},onSelectOptionChange:{defaultValue:null,description:"Brukes til å hente `selectedOption` og eventuelt kjøre annen logikk når `withSelect=true` ved endring av alternativ.",name:"onSelectOptionChange",required:!1,type:{name:"((option: PaginationOption | null) => void) | undefined"}},smallScreen:{defaultValue:null,description:"Spesifiserer om versjonen for små skjermer skal vises; den viser færre sideknapper og stacker subkomponentene.",name:"smallScreen",required:!1,type:{name:"boolean | undefined"}},htmlProps:{defaultValue:null,description:"Ekstra HTML-attributter som vil settes på elementet som genereres. Untatt `id` og `className` som settes på toppnivå.",name:"htmlProps",required:!1,type:{name:'Omit<HTMLAttributes<HTMLElement>, "onChange"> | undefined'}}}}}catch{}export{L as P};
//# sourceMappingURL=Pagination-cff5df03.js.map

import{_ as q}from"./LocalMessage.tokens-d952e602.js";import{_}from"./tslib.es6-49c71693.js";import{d as y,s as c,A as g,j as p,a as t,F as Pe}from"./ddsReferenceTokens-f1d35829.js";import{r as d}from"./index-d47b1f5a.js";import{T as ie,M as Me}from"./dds-typography-cc6cb429.js";import{a as te,N as Oe,E as X}from"./dds-core-c67132cd.js";import{j as W,K as qe,E as Xe,J as je,q as ke}from"./dds-form-9b45fc8d.js";import{i as se,b as We}from"./dds-icons-265d9665.js";var j=y.colors,C=y.spacing,_e={tip:{backgroundColor:j.DdsColorNeutralsWhite},error:{padding:"".concat(C.SizesDdsSpacingLocalX025," ").concat(C.SizesDdsSpacingLocalX05),color:j.DdsColorDangerBase,backgroundColor:j.DdsColorDangerLightest,gap:C.SizesDdsSpacingLocalX05}},Re={marginTop:C.SizesDdsSpacingLocalX0125},x={message:_e,icon:Re},$e=c.div.withConfig({displayName:"InputMessage__InputMessageWrapper",componentId:"sc-c954fy-0"})(["display:flex;width:fit-content;word-break:break-word;max-width:100%;"," svg{margin-top:",";}"],function(e){var a=e.messageType;return a==="error"?g(["color:",";background-color:",";padding:",";gap:",";"],x.message.error.color,x.message.error.backgroundColor,x.message.error.padding,x.message.error.gap):""},x.icon.marginTop),N=d.forwardRef(function(e,a){var r=e.message,n=e.messageType,i=e.id,l=e.className,m=e.htmlProps,f=_(e,["message","messageType","id","className","htmlProps"]),o=Object.assign(Object.assign({},te(i,l,m,f)),{ref:a,messageType:n}),u=n==="error";return p($e,Object.assign({},o,{children:[u&&t(se,{icon:We,iconSize:"inherit"}),t(ie,{typographyType:u?"supportingStyleLabel01":"supportingStyleHelperText01",as:"span",bold:u?!0:void 0,color:u?x.message.error.color:void 0,children:r})]}))});N.displayName="InputMessage";N.__docgenInfo={description:"",methods:[],displayName:"InputMessage"};var Ee=function(a,r,n,i){return p(Pe,{children:[n&&i&&t(N,{message:n,messageType:"error",id:i}),a&&r&&!n&&t(N,{message:a,messageType:"tip",id:r})]})},oe=y.colors,s=y.spacing,k=y.iconSizes,Ae={withIcon:{medium:{paddingLeft:"".concat(s.SizesDdsSpacingLocalX075NumberPx+k.DdsIconsizeMediumNumberPx+s.SizesDdsSpacingLocalX05NumberPx,"px")},small:{paddingLeft:"".concat(s.SizesDdsSpacingLocalX075NumberPx+k.DdsIconsizeSmallNumberPx+s.SizesDdsSpacingLocalX05NumberPx,"px")},tiny:{paddingLeft:"".concat(s.SizesDdsSpacingLocalX05NumberPx+k.DdsIconsizeSmallNumberPx+s.SizesDdsSpacingLocalX025NumberPx,"px")}}},Fe={border:{color:oe.DdsColorNeutralsGray5}},He={color:oe.DdsColorNeutralsGray9,sizes:{medium:{top:s.SizesDdsSpacingLocalX075,left:s.SizesDdsSpacingLocalX075},small:{top:s.SizesDdsSpacingLocalX075,left:s.SizesDdsSpacingLocalX075},tiny:{top:s.SizesDdsSpacingLocalX05,left:s.SizesDdsSpacingLocalX05}}},L={input:Ae,icon:He,affix:Fe},Ve=function(a){switch(a){case"medium":return"medium";case"small":return"small";case"tiny":return"small"}},Be=c(ie).withConfig({displayName:"CharCounter__Wrapper",componentId:"sc-qty1z2-0"})(["margin-left:auto;"]);function Ge(e){var a=e.current,r=e.max,n=e.id,i=e.className,l=e.htmlProps,m=_(e,["current","max","id","className","htmlProps"]),f=d.useId(),o=n??"".concat(f,"-characterCounter");return p(Be,Object.assign({},te(o,i,l,m),{forwardedAs:"div",typographyType:"supportingStyleHelperText01","aria-label":"".concat(a," av ").concat(r," tegn skrevet"),children:[a,"/",r]}))}var re=y.iconSizes,Je=L.input,ne=L.icon,Ke=c.div.withConfig({displayName:"TextInputstyles__MessageContainer",componentId:"sc-165zflr-0"})(["display:flex;justify-content:space-between;"]),Qe=c(se).withConfig({displayName:"TextInputstyles__StyledIcon",componentId:"sc-165zflr-1"})(["position:absolute;color:",";"," z-index:1;"],ne.color,function(e){var a=e.size,r=e.iconSize;return g(["left:",";",""],ne.sizes[a].left,r==="small"?g(["top:",";"],"calc(50% - ".concat(re.DdsIconsizeSmallNumberPx/2,"px)")):g(["top:",";"],"calc(50% - ".concat(re.DdsIconsizeMediumNumberPx/2,"px)")))}),Ye=c(W).withConfig({displayName:"TextInputstyles__StyledInput",componentId:"sc-165zflr-2"})(["",""],function(e){var a=e.componentSize,r=e.hasIcon;return r&&a&&g(["padding-left:",";"],Je.withIcon[a].paddingLeft)}),Ue="320px",Ze="210px",ea=function(a,r){return r||(a==="tiny"?Ze:Ue)},de=c.span.withConfig({displayName:"TextInput__Affix",componentId:"sc-k8umq3-0"})(["position:absolute;height:100%;top:50%;transform:translateY(-50%);display:flex;align-items:center;pointer-events:none;z-index:1;"]),aa=c(de).withConfig({displayName:"TextInput__Prefix",componentId:"sc-k8umq3-1"})(["left:0;margin-left:8px;padding-right:8px;border-right:1px solid ",";",";"],L.affix.border.color,function(e){var a=e.readOnly;return a&&g(["margin-left:0;padding-right:0.5ch;border-right:none;"])}),ra=c(de).withConfig({displayName:"TextInput__Suffix",componentId:"sc-k8umq3-2"})(["right:0;margin-right:8px;padding-left:8px;border-left:1px solid ",";",";"],L.affix.border.color,function(e){var a=e.readOnly;return a&&g(["margin-right:0;padding-left:0.5ch;border-left:none;"])}),ce=d.forwardRef(function(e,a){var r=e.label,n=e.disabled,i=e.readOnly,l=e.errorMessage,m=e.tip,f=e.required,o=e.maxLength,u=e.onChange,T=e.id,le=e.width,R=e.componentSize,h=R===void 0?"medium":R,$=e.type,w=$===void 0?"text":$,E=e.withCharacterCounter,A=E===void 0?!0:E,ue=e.className,pe=e.style,F=e.value,H=e.defaultValue,V=e["aria-required"],ge=e["aria-describedby"],B=e.icon,S=e.prefix,I=e.suffix,me=_(e,["label","disabled","readOnly","errorMessage","tip","required","maxLength","onChange","id","width","componentSize","type","withCharacterCounter","className","style","value","defaultValue","aria-required","aria-describedby","icon","prefix","suffix"]),fe=d.useState(qe(F,H)),G=q(fe,2),he=G[0],xe=G[1],D=d.useRef(null),P=d.useRef(null),ye=d.useState(0),J=q(ye,2),ve=J[0],Se=J[1],Ie=d.useState(0),K=q(Ie,2),be=K[0],ze=K[1];d.useLayoutEffect(function(){D.current&&Se(D.current.offsetWidth),P.current&&ze(P.current.offsetWidth)},[S,I,i]);var M=function(ae){xe(ae.target.value),u&&u(ae)},Ce=d.useId(),v=T??"".concat(Ce,"-textInput"),b=!!l,Q=!!m,Ne=!!r,Le=b||Q||!!o,Y=!!B,Te=!!(S||I),U=X(v,"characterCounter"),Z=X(v,"tip"),ee=X(v,"errorMessage"),O=Object.assign({id:v,errorMessage:l,hasErrorMessage:b,required:f,disabled:n,readOnly:i,tabIndex:i?-1:0,maxLength:o,value:F,defaultValue:H,"aria-required":V,"aria-describedby":Oe([Q?Z:void 0,b?ee:void 0,o&&A?U:void 0,ge]),"aria-invalid":b?!0:void 0},me),we={className:ue,style:pe,width:ea(h,le)},De=!!(f||V),z=null;return Y?z=p(Xe,{children:[t(Qe,{icon:B,iconSize:Ve(h),size:h}),t(Ye,Object.assign({ref:a,onChange:M,type:w,componentSize:h,hasIcon:Y},O))]}):Te&&(z=p(je,{children:[S&&t(aa,{readOnly:i,ref:D,"aria-hidden":!0,children:S}),t(W,Object.assign({ref:a,onChange:M,type:w,componentSize:h,prefixLength:ve,suffixLength:be},O)),I&&t(ra,{readOnly:i,ref:P,"aria-hidden":!0,children:I})]})),p(ke,Object.assign({},we,{children:[Ne&&t(Me,{htmlFor:v,showRequiredStyling:De,children:r}),z||t(W,Object.assign({ref:a,onChange:M,type:w,componentSize:h},O)),Le&&p(Ke,{children:[Ee(m,Z,l,ee),o&&Number.isInteger(o)&&o>0&&A&&t(Ge,{id:U,current:he.length,max:o})]})]}))});ce.displayName="TextInput";ce.__docgenInfo={description:"",methods:[],displayName:"TextInput"};export{N as I,ce as T,Ve as g,Ee as r};
//# sourceMappingURL=TextInput-6e50458b.js.map

{"version":3,"file":"RadioButtonGroup-7f270cf8.js","sources":["../../../../packages/components/src/components/SelectionControl/RadioButton/RadioButtonGroup.tsx"],"sourcesContent":["import {\n  ChangeEvent,\n  forwardRef,\n  HTMLAttributes,\n  ReactElement,\n  Ref,\n  useId,\n  useState,\n} from 'react';\nimport { RadioButtonGroupContext } from './RadioButtonGroupContext';\nimport { Typography } from '@norges-domstoler/dds-typography';\nimport {\n  combineHandlers,\n  RequiredMarker,\n  BaseComponentPropsWithChildren,\n  Direction,\n  getBaseHTMLProps,\n} from '@norges-domstoler/dds-core';\n\nimport { renderInputMessage } from '../../../utils/renderInputMessage';\nimport {\n  GroupContainer,\n  OuterGroupContainer,\n} from '../SelectionControl.styles';\n\nexport type RadioButtonGroupProps<T extends string | number> =\n  BaseComponentPropsWithChildren<\n    HTMLDivElement,\n    {\n      /** Gir alle barna `name` prop.*/\n      name?: string;\n      /**Ledetekst for hele gruppen. */\n      label?: string;\n      /**Funksjonen for onChange-event for barna. */\n      onChange?: (\n        event: ChangeEvent<HTMLInputElement>,\n        value: T | undefined\n      ) => void;\n      /**Legger en markør (*) bak label som indikerer at input er påkrevd. Gjør alle barna påkrevd ved å gi dem `required` prop. */\n      required?: boolean;\n      /**Meldingen som vises ved valideringsfeil. Gir alle barna error prop. */\n      errorMessage?: string;\n      /**Hjelpetekst for gruppen. */\n      tip?: string;\n      /**Gir alle barna `disabled` prop. */\n      disabled?: boolean;\n      /**Gir alle barna `readOnly` prop */\n      readOnly?: boolean;\n      /**Retningen radioknappene skal gjengis i. */\n      direction?: Direction;\n      /**Default verdi - en `<RadioButton />` blir forhåndsvalgt. **OBS!** brukes kun når brukeren ikke skal fylle ut selv. */\n      value?: T | undefined;\n      /**custom id for for gruppen, knytter `label` til gruppen via `aria-label`. */\n      groupId?: string;\n    },\n    Omit<HTMLAttributes<HTMLDivElement>, 'onChange'>\n  >;\n\nconst RadioButtonGroupInner = <T extends string | number = string>(\n  props: RadioButtonGroupProps<T>,\n  ref: Ref<HTMLDivElement>\n) => {\n  const {\n    name,\n    label,\n    groupId,\n    errorMessage,\n    tip,\n    disabled,\n    readOnly,\n    direction = 'row',\n    value,\n    children,\n    required,\n    onChange,\n    id,\n    className,\n    htmlProps = {},\n    ...rest\n  } = props;\n\n  const { 'aria-required': ariaRequired } = htmlProps;\n\n  const [groupValue, setGroupValue] = useState<\n    string | number | null | undefined\n  >(value);\n\n  const generatedId = useId();\n  const uniqueGroupId = groupId ?? `${generatedId}-radioButtonGroup`;\n\n  const handleChange = combineHandlers(\n    (e: ChangeEvent<HTMLInputElement>) => setGroupValue(e.target.value),\n    e => onChange && onChange(e, e.target.value as T)\n  );\n\n  const hasErrorMessage = !!errorMessage;\n  const showRequiredMarker = required || ariaRequired;\n\n  const tipId = tip && `${uniqueGroupId}-tip`;\n  const errorMessageId = errorMessage && `${uniqueGroupId}-errorMessage`;\n\n  const contextProps = {\n    name,\n    disabled,\n    error: hasErrorMessage,\n    errorMessageId: errorMessageId,\n    required,\n    readOnly,\n    value: groupValue,\n    onChange: handleChange,\n  };\n\n  return (\n    <OuterGroupContainer\n      {...getBaseHTMLProps(\n        id,\n        className,\n        { ...htmlProps, 'aria-required': ariaRequired },\n        rest\n      )}\n      ref={ref}\n    >\n      <Typography\n        as=\"span\"\n        typographyType=\"supportingStyleLabel01\"\n        id={uniqueGroupId}\n      >\n        {label} {showRequiredMarker && <RequiredMarker />}\n      </Typography>\n      {renderInputMessage(tip, tipId)}\n      <RadioButtonGroupContext.Provider value={{ ...contextProps }}>\n        <GroupContainer\n          role=\"radiogroup\"\n          direction={direction}\n          aria-labelledby={uniqueGroupId}\n          aria-describedby={tipId}\n          aria-errormessage={errorMessageId}\n        >\n          {children}\n        </GroupContainer>\n      </RadioButtonGroupContext.Provider>\n      {renderInputMessage(undefined, undefined, errorMessage, errorMessageId)}\n    </OuterGroupContainer>\n  );\n};\n\nexport const RadioButtonGroup = forwardRef(RadioButtonGroupInner) as <\n  T extends string | number = string\n>(\n  props: RadioButtonGroupProps<T> & { ref?: Ref<HTMLDivElement> }\n) => ReactElement;\n\n// @ts-expect-error TODO fix RadioButtonGroup type\nRadioButtonGroup.displayName = 'RadioButtonGroup';\n"],"names":["RadioButtonGroupInner","props","ref","name","label","groupId","errorMessage","tip","disabled","readOnly","direction","value","children","required","onChange","id","className","htmlProps","rest","ariaRequired","groupValue","setGroupValue","useState","generatedId","useId","uniqueGroupId","handleChange","combineHandlers","e","hasErrorMessage","showRequiredMarker","tipId","errorMessageId","contextProps","jsxs","OuterGroupContainer","getBaseHTMLProps","Typography","jsx","RequiredMarker","renderInputMessage","RadioButtonGroupContext","GroupContainer","RadioButtonGroup","forwardRef"],"mappings":"unBA0DA,MAAAA,EAAA,CAAAC,EAAAC,IAAA,CAIE,KAAA,CAAM,KAAAC,EACJ,MAAAC,EACA,QAAAC,EACA,aAAAC,EACA,IAAAC,EACA,SAAAC,EACA,SAAAC,EACA,UAAAC,EAAA,MACY,MAAAC,EACZ,SAAAC,EACA,SAAAC,EACA,SAAAC,EACA,GAAAC,EACA,UAAAC,EACA,UAAAC,EAAA,CAAA,EACa,GAAAC,CACV,EAAAjB,EAGL,CAAA,gBAAAkB,CAAA,EAAAF,EAEA,CAAAG,EAAAC,CAAA,EAAAC,EAAA,SAAAX,CAAA,EAIAY,EAAAC,EAAAA,QACAC,EAAApB,GAAA,GAAAkB,CAAA,oBAEAG,EAAAC,EAAqBC,GAAAP,EAAAO,EAAA,OAAA,KAAA,EAC+CA,GAAAd,GAAAA,EAAAc,EAAAA,EAAA,OAAA,KAAA,CAClB,EAGlDC,EAAA,CAAA,CAAAvB,EACAwB,EAAAjB,GAAAM,EAEAY,EAAAxB,GAAA,GAAAkB,CAAA,OACAO,EAAA1B,GAAA,GAAAmB,CAAA,gBAEAQ,EAAA,CAAqB,KAAA9B,EACnB,SAAAK,EACA,MAAAqB,EACO,eAAAG,EACP,SAAAnB,EACA,SAAAJ,EACA,MAAAW,EACO,SAAAM,CACG,EAGZ,OAAAQ,EACEC,EAAC,CAAA,GAAAC,EACKrB,EACFC,EACA,CAAA,GAAAC,EAAA,gBAAAE,CAAA,EAC8CD,CAC9C,EACF,IAAAhB,EACA,SAAA,CAEAgC,EAAAG,EAAC,CAAA,GAAA,OACI,eAAA,yBACY,GAAAZ,EACX,SAAA,CAEHrB,EAAA,IAAM0B,GAAAQ,EAAAC,EAAA,EAAA,CAAwC,CAAA,CAAA,EACjDC,EAAAjC,EAAAwB,CAAA,EAC8BO,EAAAG,EAAA,SAAA,CAAA,MAAA,CAAA,GAAAR,CAAA,EAAA,SAAAK,EAE5BI,EAAC,CAAA,KAAA,aACM,UAAAhC,EACL,kBAAAe,EACiB,mBAAAM,EACC,oBAAAC,EACC,SAAApB,CAElB,CAAA,EAAA,EAEL4B,EAAA,OAAA,OAAAlC,EAAA0B,CAAA,CACsE,CAAA,CAAA,CAG5E,EAEOW,EAAAC,EAAA,WAAA5C,CAAA,EAOP2C,EAAA,YAAA"}
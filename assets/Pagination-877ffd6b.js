import{a as t,j as y}from"./jsx-runtime-e43ccb36.js";import{r as x}from"./index-1b03fe98.js";import{d as A,s as C,A as E}from"./ddsReferenceTokens-f9f5a4e4.js";import"./Caption-6d408196.js";import"./Heading-5f7faa2b.js";import"./Label-9dee7f37.js";import"./Legend-41f9f05c.js";import"./Link-1567bf4e.js";import"./Paragraph-998f64b8.js";import"./TextOverflowEllipsis-1edb8626.js";import{T as ee}from"./Typography-e857479c.js";import{aW as ne,U as te,Y as ae,Z as ie,_ as re}from"./libraryAdd-5ac12ed0.js";import{I as se}from"./Icon-1678d620.js";import{g as N}from"./BaseComponentProps-9c025471.js";import{S as le}from"./Select-dfefc6f8.js";import{B as h}from"./Button-cdaa071a.js";const j=(e,a)=>{const l=a-e+1;return Array.from({length:l},(k,P)=>P+e)};function oe(e,a){const o="truncator";let i;if(e>4){const d=Math.max(1,a<5||e<=7?1:a+1+1>=e?e-4:a>4&&e>7?a-1:1),w=a<5&&e>7?5:a<5&&e<=7?e:a+1+1<e-1?a+1:(a+1+1===e-1,e),v=Math.min(e,w);i=j(d,v);const c=d>2&&e>7,u=e-v>1&&e>7;return c&&u?i=[1,o,...i,o,e]:c&&!u?i=[1,o,...i]:!c&&u&&(i=[...i,o,e]),[...i]}return j(1,e)}const{spacing:T,colors:de}=A,ce={gap:T.SizesDdsSpacingLocalX075},ue={color:de.DdsColorNeutralsGray7},pe={gap:T.SizesDdsSpacingLocalX075},me={gap:T.SizesDdsSpacingLocalX075},ge={outerContainer:pe,indicatorsContainer:me,truncationIcon:ue,list:ce},{outerContainer:fe,indicatorsContainer:he,truncationIcon:ve,list:Se}=ge,G=C.nav`
  display: flex;
  align-items: center;
`,R=C.ol`
  display: grid;
  grid-auto-flow: column;
  gap: ${Se.gap};
  margin: 0;
  padding: 0;
`,s=C.li`
  display: inline-grid;
  align-content: center;
  ${({isHidden:e})=>e&&E`
      visibility: hidden;
    `}
`,ye=C.div`
  display: flex;
  gap: ${fe.gap};
  ${({smallScreen:e})=>e?E`
          flex-direction: column;
          align-items: center;
        `:E`
          justify-content: space-between;
          flex-wrap: wrap;
        `}
`,Ce=C.div`
  display: grid;
  grid-auto-flow: column;
  align-items: center;
  gap: ${he.gap};
`,L=x.forwardRef((e,a)=>{const{itemsAmount:l,defaultItemsPerPage:k=10,defaultActivePage:P=1,withPagination:o=!0,withCounter:i,withSelect:d,selectOptions:w=[{label:"10",value:10},{label:"25",value:25},{label:"50",value:50},{label:"Alle",value:l}],smallScreen:v,onChange:c,onSelectOptionChange:u,id:B,className:O,htmlProps:V,...H}=e,[r,D]=x.useState(P),[p,F]=x.useState(k),b=Math.ceil(l/p),$=oe(b,r),m=(n,S)=>{S&&D(S),n&&c&&c(n,S)},X=n=>{F(n==null?void 0:n.value),u&&u(n)},U=$.length>0?$.map((n,S)=>{const I=n===r;return t(s,{children:n!=="truncator"?t(h,{label:n.toString(),purpose:I?"primary":"secondary",appearance:I?"filled":"ghost",size:"small",onClick:Q=>{m(Q,n)},"aria-label":I?`Nåværende side (side ${n})`:`Gå til side ${n}`}):t(se,{icon:ne,color:ve.color})},`pagination-item-${S}`)}):void 0,q=t(h,{purpose:"secondary",appearance:"ghost",size:"small",icon:ie,onClick:n=>{m(n,r-1)},"aria-label":"Gå til forrige siden"}),z=t(h,{purpose:"secondary",appearance:"ghost",size:"small",icon:re,onClick:n=>{m(n,r+1)},"aria-label":"Gå til neste siden"}),M=!d&&!i&&{...N(B,O,V,H)},W={...N(B,O,V,H),smallScreen:v},g=r===1,f=r===b,Y=o?t(G,{ref:a,"aria-label":"paginering",...M,children:y(R,{children:[t(s,{isHidden:g,"aria-hidden":g,children:q}),U,t(s,{isHidden:f,"aria-hidden":f,children:z})]})}):null,Z=o?t(G,{ref:a,"aria-label":"paginering",...M,children:y(R,{children:[t(s,{isHidden:g,"aria-hidden":g,children:t(h,{purpose:"secondary",appearance:"ghost",size:"small",icon:te,onClick:n=>{m(n,1)},"aria-label":"Gå til første siden"})}),t(s,{isHidden:g,"aria-hidden":g,children:q}),t(s,{children:t(h,{label:r.toString(),size:"small",onClick:n=>{m(n,r)}})}),t(s,{isHidden:f,"aria-hidden":f,children:z}),t(s,{isHidden:f,"aria-hidden":f,children:t(h,{purpose:"secondary",appearance:"ghost",size:"small",icon:ae,onClick:n=>{m(n,b)},"aria-label":"Gå til siste siden"})})]})}):null,J=r===1?1:r*p-p+1,K=r===b?l:r*p,_=v?Z:Y;return!i&&!d?_:y(ye,{...W,children:[y(Ce,{children:[d&&t(le,{options:w,isSearchable:!1,width:"88px",defaultValue:{label:p.toString(),value:p},isClearable:!1,onChange:X,"aria-label":"Antall elementer per side"}),i&&y(ee,{typographyType:"supportingStyleLabel01",as:"p",children:["Viser ",J,"-",K," av ",l]})]}),_]})});L.displayName="Pagination";try{L.displayName="Pagination",L.__docgenInfo={description:"",displayName:"Pagination",props:{itemsAmount:{defaultValue:null,description:"Totalt antall elementer å paginere.",name:"itemsAmount",required:!0,type:{name:"number"}},defaultItemsPerPage:{defaultValue:null,description:"Antall elementer per side ved innlastning av komponenten.",name:"defaultItemsPerPage",required:!1,type:{name:"number | undefined"}},defaultActivePage:{defaultValue:null,description:"Den aktive siden ved innlastning av komponenten.",name:"defaultActivePage",required:!1,type:{name:"number | undefined"}},withPagination:{defaultValue:null,description:"Spesifiserer om selve pagineringen skal vises.",name:"withPagination",required:!1,type:{name:"boolean | undefined"}},withCounter:{defaultValue:null,description:"Spesifiserer om teksten `'Vis x-y av z'` skal vises.",name:"withCounter",required:!1,type:{name:"boolean | undefined"}},withSelect:{defaultValue:null,description:"Spesifiserer om `<Select />` til å velge antall resultater per side skal vises.",name:"withSelect",required:!1,type:{name:"boolean | undefined"}},selectOptions:{defaultValue:null,description:'Custom options for `<Select />`. **OBS!** hvis det settes custom `selectOptions` bør "alle"-alternativet inkluderes der det er relevant, da brukere ofte liker å ha muligheten.',name:"selectOptions",required:!1,type:{name:"PaginationOption[] | undefined"}},onChange:{defaultValue:null,description:"Brukes til å hente side og eventuelt annen logikk ved endring av side.",name:"onChange",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>, page: number) => void) | undefined"}},onSelectOptionChange:{defaultValue:null,description:"Brukes til å hente `selectedOption` og eventuelt kjøre annen logikk når `withSelect=true` ved endring av alternativ.",name:"onSelectOptionChange",required:!1,type:{name:"((option: PaginationOption | null) => void) | undefined"}},smallScreen:{defaultValue:null,description:"Spesifiserer om versjonen for små skjermer skal vises; den viser færre sideknapper og stacker subkomponentene.",name:"smallScreen",required:!1,type:{name:"boolean | undefined"}},htmlProps:{defaultValue:null,description:"Ekstra HTML-attributter som vil settes på elementet som genereres. Untatt `id` og `className` som settes på toppnivå.",name:"htmlProps",required:!1,type:{name:'Omit<HTMLAttributes<HTMLElement>, "onChange"> | undefined'}}}}}catch{}export{L as P};
//# sourceMappingURL=Pagination-877ffd6b.js.map

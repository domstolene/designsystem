{"version":3,"file":"InternalHeader-a530fa67.js","sources":["../../../../packages/components/src/components/InternalHeader/InternalHeader.tokens.tsx","../../../../packages/components/src/components/InternalHeader/InternalHeader.styles.tsx","../../../../packages/components/src/components/InternalHeader/NavigationItem.tsx","../../../../packages/components/src/components/InternalHeader/InternalHeaderListItem.tsx","../../../../packages/components/src/components/InternalHeader/InternalHeader.tsx"],"sourcesContent":["import { ddsBaseTokens } from '@norges-domstoler/dds-design-tokens';\nimport { StaticTypographyType } from '@norges-domstoler/dds-typography';\n\nconst { border, colors, spacing } = ddsBaseTokens;\n\nconst borderStyle = `${border.BordersDdsBorderStyleLightStrokeWeight} ${border.BordersDdsBorderStyleLightStroke} solid `;\n\nexport const typographyTypes: { [k: string]: StaticTypographyType } = {\n  navLink: 'bodySans01',\n};\n\nconst navLink = {\n  base: {\n    color: colors.DdsColorNeutralsGray9,\n    backgroundColor: colors.DdsColorNeutralsWhite,\n    padding: `${spacing.SizesDdsSpacingLocalX075} ${spacing.SizesDdsSpacingLocalX15}`,\n  },\n  hover: {\n    color: colors.DdsColorInteractiveDark,\n  },\n  active: {\n    color: colors.DdsColorInteractiveDark,\n  },\n  current: {\n    color: colors.DdsColorInteractiveDarkest,\n    backgroundColor: colors.DdsColorPrimaryLightest,\n  },\n};\n\nconst outerContainer = {\n  backgroundColor: colors.DdsColorNeutralsWhite,\n};\n\nconst applicationNameWrapper = {\n  padding: `${spacing.SizesDdsSpacingLocalX1} ${spacing.SizesDdsSpacingLocalX15}`,\n};\n\nconst lovisaWrapper = {\n  padding: `${spacing.SizesDdsSpacingLocalX1} ${spacing.SizesDdsSpacingLocalX15}`,\n  borderRight: borderStyle,\n};\n\nconst banner = {\n  borderBottom: borderStyle,\n  paddingRight: spacing.SizesDdsSpacingLocalX1,\n  hasContextMenu: {\n    paddingRight: spacing.SizesDdsSpacingLayoutX4,\n  },\n};\n\nconst navigation = {\n  borderBottom: borderStyle,\n};\n\nconst contextGroup = {\n  right: spacing.SizesDdsSpacingLocalX075,\n  top: spacing.SizesDdsSpacingLocalX025,\n};\n\nexport const internalHeaderTokens = {\n  navLink,\n  outerContainer,\n  applicationNameWrapper,\n  lovisaWrapper,\n  banner,\n  navigation,\n  contextGroup,\n};\n","import styled, { css } from 'styled-components';\nimport { internalHeaderTokens as tokens } from './InternalHeader.tokens';\nimport { InternalHeaderProps } from './InternalHeader.types';\nimport { OverflowMenu } from '../OverflowMenu';\nimport { selection } from '@norges-domstoler/dds-core';\n\nconst {\n  outerContainer,\n  applicationNameWrapper,\n  lovisaWrapper,\n  banner,\n  navigation,\n  contextGroup,\n} = tokens;\n\nexport const OuterContainer = styled.div`\n  position: relative;\n  *::selection {\n    ${selection}\n  }\n  background-color: ${outerContainer.backgroundColor};\n`;\n\ntype BannerProps = {\n  hasContextMenu?: boolean;\n};\n\nexport const BannerWrapper = styled.div<BannerProps>`\n  position: relative;\n  display: flex;\n  align-items: center;\n  border-bottom: ${banner.borderBottom};\n  padding-right: ${banner.paddingRight};\n  ${({ hasContextMenu }) =>\n    hasContextMenu &&\n    css`\n      padding-right: ${banner.hasContextMenu.paddingRight};\n    `}\n`;\n\nexport const BannerLeftWrapper = styled.div`\n  display: flex;\n`;\n\nexport const ApplicationNameWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  padding: ${applicationNameWrapper.padding};\n`;\n\nexport const LovisaWrapper = styled.div`\n  padding: ${lovisaWrapper.padding};\n  border-right: ${lovisaWrapper.borderRight};\n`;\n\nexport const Navigation = styled.nav`\n  border-bottom: ${navigation.borderBottom};\n`;\n\ntype NavListProps = Pick<InternalHeaderProps, 'smallScreen'>;\n\nexport const NavigationList = styled.ul<NavListProps>`\n  box-sizing: border-box;\n  display: flex;\n  ${({ smallScreen }) =>\n    smallScreen &&\n    css`\n      flex-direction: column;\n    `}\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n`;\n\nexport const ContextMenuGroup = styled.div`\n  position: absolute;\n  top: ${contextGroup.top};\n  right: ${contextGroup.right};\n`;\n\nexport const StyledOverflowMenu = styled(OverflowMenu)`\n  max-height: calc(100vh - 110px);\n`;\n","import { AnchorHTMLAttributes, forwardRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport { getFontStyling } from '@norges-domstoler/dds-typography';\nimport {\n  internalHeaderTokens as tokens,\n  typographyTypes,\n} from './InternalHeader.tokens';\nimport { focusVisible } from '@norges-domstoler/dds-form';\n\nconst { navLink } = tokens;\n\ntype LinkProps = { isCurrent?: boolean };\n\nexport const Link = styled.a<LinkProps>`\n  display: flex;\n  align-items: center;\n  height: 100%;\n  box-sizing: border-box;\n  text-decoration: none;\n  @media (prefers-reduced-motion: no-preference) {\n    transition: background-color 0.2s;\n  }\n  color: ${navLink.base.color};\n  background-color: ${navLink.base.backgroundColor};\n  padding: ${navLink.base.padding};\n  ${getFontStyling(typographyTypes.navLink)}\n  &:hover {\n    color: ${navLink.hover.color};\n  }\n  &:active {\n    color: ${navLink.active.color};\n  }\n  &:focus-visible,\n  &.focus-visible {\n    ${focusVisible};\n  }\n  ${({ isCurrent }) =>\n    isCurrent &&\n    css`\n      color: ${navLink.current.color};\n      background-color: ${navLink.current.backgroundColor};\n      &:hover {\n        color: ${navLink.current.color};\n      }\n    `}\n`;\n\nexport type NavigationItemProps = {\n  title: string;\n  isCurrent?: boolean;\n} & AnchorHTMLAttributes<HTMLAnchorElement>;\n\nexport const NavigationItem = forwardRef<\n  HTMLAnchorElement,\n  NavigationItemProps\n>(({ title, isCurrent, ...rest }, ref) => {\n  const linkProps = {\n    ref,\n    isCurrent,\n\n    ...rest,\n  };\n\n  return (\n    <Link {...linkProps} aria-current={isCurrent ? 'page' : undefined}>\n      {title}\n    </Link>\n  );\n});\n","import { forwardRef, HTMLAttributes } from 'react';\nimport styled from 'styled-components';\n\nconst Li = styled.li`\n  box-sizing: border-box;\n`;\n\nexport type InternalHeaderListItemProps = HTMLAttributes<HTMLLIElement>;\n\nexport const InternalHeaderListItem = forwardRef<\n  HTMLLIElement,\n  InternalHeaderListItemProps\n>(({ children, ...rest }, ref) => {\n  const props = {\n    ref,\n    ...rest,\n  };\n\n  return <Li {...props}>{children}</Li>;\n});\n","import { useRef, useState } from 'react';\nimport { Typography } from '@norges-domstoler/dds-typography';\nimport { Button } from '../Button';\nimport { InternalHeaderProps } from './InternalHeader.types';\nimport {\n  OuterContainer,\n  Navigation,\n  NavigationList,\n  BannerWrapper,\n  BannerLeftWrapper,\n  LovisaWrapper,\n  ApplicationNameWrapper,\n  ContextMenuGroup,\n  StyledOverflowMenu,\n} from './InternalHeader.styles';\nimport { NavigationItem } from './NavigationItem';\nimport { InternalHeaderListItem } from './InternalHeaderListItem';\nimport { getBaseHTMLProps } from '@norges-domstoler/dds-core';\nimport { MenuIcon, MoreVerticalIcon } from '@norges-domstoler/dds-icons';\n\nexport const InternalHeader = (props: InternalHeaderProps) => {\n  const {\n    applicationDesc,\n    applicationName,\n    smallScreen,\n    navigationElements,\n    contextMenuElements,\n    currentPageHref,\n    userProps,\n    onCurrentPageChange,\n    id,\n    className,\n    htmlProps,\n    ...rest\n  } = props;\n\n  const [contextMenuIsClosed, setContextMenuIsClosed] = useState(true);\n  const [currentPage, setCurrentPage] = useState<string | undefined>(\n    currentPageHref\n  );\n\n  const buttonRef = useRef<HTMLButtonElement>(null);\n\n  const handleCurrentPageChange = (href: string) => {\n    setCurrentPage(href);\n    onCurrentPageChange && onCurrentPageChange();\n  };\n\n  const handleContextMenuClick = () => {\n    setContextMenuIsClosed(!contextMenuIsClosed);\n  };\n\n  const onOveflowMenuClose = () => setContextMenuIsClosed(true);\n\n  const hasNavigationElements =\n    !!navigationElements && navigationElements.length > 0;\n  const hasContextMenuElements =\n    !!contextMenuElements && contextMenuElements.length > 0;\n  const hasNavInContextMenu = smallScreen && hasNavigationElements;\n\n  const navigation =\n    hasNavigationElements && !smallScreen ? (\n      <Navigation aria-label=\"sidenavigasjon\">\n        <NavigationList>\n          {navigationElements.map((item, index) => {\n            const { href, ...rest } = item;\n            const isCurrent = href === currentPage;\n            return (\n              <InternalHeaderListItem key={index}>\n                <NavigationItem\n                  href={href}\n                  {...rest}\n                  isCurrent={isCurrent}\n                  onClick={() => handleCurrentPageChange(href)}\n                />\n              </InternalHeaderListItem>\n            );\n          })}\n        </NavigationList>\n      </Navigation>\n    ) : null;\n\n  const hasContextMenu =\n    hasContextMenuElements || !!userProps || hasNavInContextMenu;\n  return (\n    <OuterContainer {...getBaseHTMLProps(id, className, htmlProps, rest)}>\n      <BannerWrapper hasContextMenu={hasContextMenu}>\n        <BannerLeftWrapper>\n          <LovisaWrapper>\n            <Typography typographyType=\"bodySans02\" bold as=\"span\">\n              {applicationName}\n            </Typography>\n          </LovisaWrapper>\n          <ApplicationNameWrapper>\n            <Typography typographyType=\"bodySans02\" as=\"span\">\n              {applicationDesc}\n            </Typography>\n          </ApplicationNameWrapper>\n        </BannerLeftWrapper>\n      </BannerWrapper>\n      {navigation}\n      {hasContextMenu && (\n        <ContextMenuGroup>\n          <Button\n            ref={buttonRef}\n            icon={hasNavInContextMenu ? MenuIcon : MoreVerticalIcon}\n            appearance=\"borderless\"\n            purpose=\"secondary\"\n            onClick={handleContextMenuClick}\n            aria-haspopup=\"menu\"\n            aria-expanded={!contextMenuIsClosed ? true : undefined}\n            aria-label=\"åpne meny\"\n          />\n          <StyledOverflowMenu\n            isOpen={!contextMenuIsClosed}\n            onClose={onOveflowMenuClose}\n            anchorRef={buttonRef}\n            navItems={hasNavInContextMenu ? navigationElements : undefined}\n            items={hasContextMenuElements ? contextMenuElements : undefined}\n            userProps={userProps}\n          />\n        </ContextMenuGroup>\n      )}\n    </OuterContainer>\n  );\n};\n\nInternalHeader.displayName = 'InternalHeader';\n"],"names":["border","colors","spacing","ddsBaseTokens","borderStyle","typographyTypes","navLink","outerContainer","applicationNameWrapper","lovisaWrapper","banner","navigation","contextGroup","internalHeaderTokens","tokens","OuterContainer","styled","selection","BannerWrapper","hasContextMenu","css","BannerLeftWrapper","ApplicationNameWrapper","LovisaWrapper","Navigation","NavigationList","smallScreen","ContextMenuGroup","StyledOverflowMenu","OverflowMenu","Link","getFontStyling","focusVisible","isCurrent","NavigationItem","forwardRef","title","rest","ref","linkProps","jsx","Li","InternalHeaderListItem","children","props","InternalHeader","applicationDesc","applicationName","navigationElements","contextMenuElements","currentPageHref","userProps","onCurrentPageChange","id","className","htmlProps","contextMenuIsClosed","setContextMenuIsClosed","useState","currentPage","setCurrentPage","buttonRef","useRef","handleCurrentPageChange","href","handleContextMenuClick","onOveflowMenuClose","hasNavigationElements","hasContextMenuElements","hasNavInContextMenu","item","index","jsxs","getBaseHTMLProps","Typography","Button","MenuIcon","MoreVerticalIcon"],"mappings":"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"}
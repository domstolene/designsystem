{"version":3,"file":"Button-07f0874b.js","sources":["../../../../packages/components/src/components/Button/Button.styles.tsx","../../../../packages/components/src/components/Button/Button.tsx"],"sourcesContent":["import styled, { css } from 'styled-components';\nimport { normalizeButton, selection } from '@norges-domstoler/dds-core';\nimport { getFontStyling } from '@norges-domstoler/dds-typography';\nimport { buttonTokens as tokens, typographyTypes } from './Button.tokens';\nimport {\n  ButtonAppearance,\n  ButtonPurpose,\n  ButtonSize,\n  IconPosition,\n} from './Button.types';\nimport {\n  focusVisibleTransitionValue,\n  focusVisible,\n} from '@norges-domstoler/dds-form';\n\nconst {\n  button: { base, sizes, appearances },\n} = tokens;\n\nconst getAppearanceAndPurposeStyling = (\n  appearance: ButtonAppearance,\n  purpose: ButtonPurpose\n) => {\n  switch (appearance) {\n    case 'filled':\n    case 'rounded':\n      return css`\n        background-color: ${appearances[appearance].purpose[purpose].base\n          .backgroundColor};\n        border-color: ${appearances[appearance].purpose[purpose].base\n          .borderColor};\n        &:hover {\n          background-color: ${appearances[appearance].purpose[purpose].hover\n            .backgroundColor};\n          border-color: ${appearances[appearance].purpose[purpose].hover\n            .borderColor};\n        }\n        &:active {\n          background-color: ${appearances[appearance].purpose[purpose].active\n            .backgroundColor};\n          border-color: ${appearances[appearance].purpose[purpose].active\n            .borderColor};\n        }\n      `;\n    case 'ghost':\n      return css`\n        background-color: ${appearances.ghost.base.backgroundColor};\n        border-color: ${appearances.ghost.purpose[purpose].base.borderColor};\n        &:hover {\n          color: ${appearances.ghost.purpose[purpose].hover.color};\n          border-color: ${appearances.ghost.purpose[purpose].hover.borderColor};\n          box-shadow: ${appearances.ghost.purpose[purpose].hover.boxShadow};\n        }\n        &:active {\n          color: ${appearances.ghost.purpose[purpose].active.color};\n          border-color: ${appearances.ghost.purpose[purpose].active\n            .borderColor};\n          box-shadow: ${appearances.ghost.purpose[purpose].active.boxShadow};\n        }\n      `;\n    case 'borderless':\n      return css`\n        background-color: ${appearances.borderless.base.backgroundColor};\n        border-color: ${appearances.borderless.base.borderColor};\n        text-decoration: ${appearances.borderless.base.textDecoration};\n        text-decoration-color: ${appearances.borderless.base\n          .textDecorationColor};\n        &:hover {\n          color: ${appearances.borderless.purpose[purpose].hover.color};\n          text-decoration-color: ${appearances.borderless.purpose[purpose].hover\n            .textDecorationColor};\n        }\n        &:active {\n          color: ${appearances.borderless.purpose[purpose].active.color};\n          text-decoration-color: ${appearances.borderless.purpose[purpose]\n            .active.textDecorationColor};\n        }\n      `;\n  }\n};\n\ntype ButtonWrapperProps = {\n  appearance: ButtonAppearance;\n  purpose: ButtonPurpose;\n  size: ButtonSize;\n  fullWidth: boolean;\n  hasIcon: boolean;\n  hasLabel: boolean;\n  isLoading: boolean;\n  iconPosition?: IconPosition;\n};\n\nexport const ButtonWrapper = styled.button<ButtonWrapperProps>`\n  ${normalizeButton}\n  border: ${base.border};\n  user-select: text;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  height: fit-content;\n  width: ${({ fullWidth }) => (fullWidth ? '100%' : 'fit-content')};\n  cursor: ${({ isLoading }) => (isLoading ? 'not-allowed' : 'pointer')};\n  box-shadow: none;\n  text-decoration: none;\n\n  @media (prefers-reduced-motion: no-preference) {\n    transition: background-color 0.2s, text-decoration-color 0.2s,\n      box-shadow 0.2s, border-color 0.2s, color 0.2s,\n      ${focusVisibleTransitionValue};\n  }\n\n  ${({ appearance, purpose }) =>\n    css`\n      border-radius: ${appearances[appearance].base.borderRadius};\n      box-shadow: ${appearances[appearance].base.boxShadow};\n      color: ${appearances[appearance].purpose[purpose].base.color};\n      ${getAppearanceAndPurposeStyling(appearance, purpose)}\n    `}\n\n  ${({ hasIcon, hasLabel, appearance, purpose }) =>\n    hasIcon &&\n    !hasLabel &&\n    appearance === 'borderless' &&\n    css`\n      &:hover {\n        border-color: ${appearances[appearance].purpose[purpose].icon.hover.borderColor};\n        box-shadow: ${appearances[appearance].purpose[purpose].icon.hover.boxShadow};\n      }\n      &:active {\n        border-color:: ${appearances[appearance].purpose[purpose].icon.active.borderColor};\n        box-shadow: ${appearances[appearance].purpose[purpose].icon.active.boxShadow};\n      }\n    `}\n    ${({ hasIcon, hasLabel, size }) =>\n    hasIcon &&\n    hasLabel &&\n    css`\n      gap: ${sizes[size].textAndIcon.gap};\n    `}\n\n  ${({ size, hasLabel }) =>\n    hasLabel\n      ? css`\n          ${getFontStyling(typographyTypes[size])}\n          padding: ${sizes[size].text.padding};\n        `\n      : css`\n          font-size: ${sizes[size].justIcon.icon.fontSize};\n          padding: ${sizes[size].justIcon.icon.padding};\n        `}\n\n  ${({ fullWidth, hasIcon, hasLabel, isLoading, iconPosition }) =>\n    fullWidth &&\n    (!hasIcon || !hasLabel || isLoading\n      ? css`\n          justify-content: center;\n        `\n      : hasIcon && hasLabel && iconPosition === 'left'\n      ? css`\n          justify-content: left;\n        `\n      : css`\n          justify-content: space-between;\n        `)}\n\n  &:focus-visible, &.focus-visible {\n    ${focusVisible}\n  }\n\n  *::selection {\n    ${selection}\n  }\n`;\n\ntype StyledIconWrapperSpanProps = {\n  iconPosition?: IconPosition;\n  size: ButtonSize;\n  absolutePosition?: boolean;\n  isHidden?: boolean;\n  justIcon?: boolean;\n};\n\nexport const StyledIconWrapperSpan = styled.span<StyledIconWrapperSpanProps>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  ${({ absolutePosition }) =>\n    absolutePosition &&\n    css`\n      position: absolute;\n    `}\n  ${({ isHidden }) =>\n    isHidden &&\n    css`\n      visibility: hidden;\n    `}\n  ${({ justIcon, size }) =>\n    justIcon &&\n    css`\n      height: ${sizes[size].justIcon.wrapper.height};\n      width: ${sizes[size].justIcon.wrapper.width};\n    `}\n`;\n\ntype LabelProps = {\n  isHidden?: boolean;\n};\n\nexport const Label = styled.span<LabelProps>`\n  ${({ isHidden }) =>\n    isHidden &&\n    css`\n      visibility: hidden;\n    `}\n`;\n","import { ElementType, forwardRef, MouseEvent } from 'react';\nimport { Icon } from '@norges-domstoler/dds-icons';\nimport { getBaseHTMLProps } from '@norges-domstoler/dds-core';\n\nimport { buttonTokens as tokens } from './Button.tokens';\nimport { Spinner } from '../Spinner';\nimport { ButtonProps } from './Button.types';\nimport { ButtonWrapper, StyledIconWrapperSpan, Label } from './Button.styles';\n\nconst {\n  button: { sizes, appearances },\n} = tokens;\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  (props, ref) => {\n    const {\n      label,\n      purpose = 'primary',\n      size = 'medium',\n      iconPosition = 'left',\n      appearance = 'filled',\n      href,\n      target,\n      loading = false,\n      loadingTooltip = 'Lagring pågår',\n      fullWidth = false,\n      icon,\n      onClick,\n      onFocus,\n      onBlur,\n      id,\n      className,\n      htmlProps,\n      ...rest\n    } = props;\n\n    const as: ElementType = href ? 'a' : 'button';\n\n    const hasLabel = !!label;\n    const hasIcon = !!icon;\n\n    const wrapperProps = {\n      ...getBaseHTMLProps(id, className, htmlProps, rest),\n      href,\n      label,\n      as,\n      rel: href ? 'noreferrer noopener' : undefined,\n      target: href && target ? target : undefined,\n      ref,\n      appearance,\n      purpose,\n      iconPosition,\n      fullWidth,\n      hasLabel: hasLabel,\n      hasIcon: hasIcon,\n      isLoading: loading,\n      size,\n      onClick: (\n        event: MouseEvent<HTMLButtonElement, globalThis.MouseEvent>\n      ) => {\n        if (!loading && onClick) {\n          onClick(event);\n        }\n      },\n      onFocus,\n      onBlur,\n    };\n\n    const isIconButton = !hasLabel && hasIcon;\n\n    const iconElement = icon && (\n      <StyledIconWrapperSpan\n        size={size}\n        isHidden={hasIcon && loading}\n        justIcon={isIconButton}\n      >\n        <Icon icon={icon} iconSize=\"inherit\" />\n      </StyledIconWrapperSpan>\n    );\n\n    return (\n      <ButtonWrapper {...wrapperProps} aria-disabled={loading}>\n        {!isIconButton && (\n          <>\n            {iconPosition === 'left' && iconElement}\n            <Label isHidden={loading} aria-hidden={loading}>\n              {label}\n            </Label>\n            {iconPosition === 'right' && iconElement}\n          </>\n        )}\n        {isIconButton && iconElement}\n        {loading && (\n          <StyledIconWrapperSpan\n            size={size}\n            absolutePosition={hasIcon || hasLabel}\n          >\n            <Spinner\n              color={appearances[appearance].purpose[purpose].base.color}\n              size={sizes[size].justIcon.icon.fontSize}\n              tooltip={loadingTooltip}\n            />\n          </StyledIconWrapperSpan>\n        )}\n      </ButtonWrapper>\n    );\n  }\n);\n\nButton.displayName = 'Button';\n"],"names":["base","sizes","appearances","tokens","getAppearanceAndPurposeStyling","appearance","purpose","css","ButtonWrapper","styled","normalizeButton","fullWidth","isLoading","focusVisibleTransitionValue","hasIcon","hasLabel","size","getFontStyling","typographyTypes","iconPosition","focusVisible","selection","StyledIconWrapperSpan","absolutePosition","isHidden","justIcon","Label","Button","forwardRef","props","ref","label","href","target","loading","loadingTooltip","icon","onClick","onFocus","onBlur","id","className","htmlProps","rest","as","wrapperProps","getBaseHTMLProps","event","isIconButton","iconElement","jsx","Icon","jsxs","Fragment","Spinner"],"mappings":"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"}
{"version":3,"file":"SplitButton.stories-fb5a2a72.js","sources":["../../../../packages/components/src/components/SplitButton/SplitButton.tokens.ts","../../../../packages/components/src/components/SplitButton/SplitButton.tsx"],"sourcesContent":["import { ddsBaseTokens } from '@norges-domstoler/dds-design-tokens';\n\nconst mainButton = {\n  primary: {\n    borderLeft: `1px solid ${ddsBaseTokens.colors.DdsColorNeutralsWhite}`,\n  },\n};\n\nexport const tokens = {\n  mainButton,\n};\n","import { forwardRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { ChevronDownIcon, ChevronUpIcon } from '../../icons/tsx';\nimport { ExtractStrict } from '../../types';\nimport { Button, ButtonProps, ButtonPurpose, ButtonSize } from '../Button';\nimport {\n  OverflowMenu,\n  OverflowMenuButtonItem,\n  OverflowMenuGroup,\n} from '../OverflowMenu';\nimport { tokens } from './SplitButton.tokens';\n\nconst Container = styled.div`\n  display: flex;\n`;\n\nconst MainButton = styled(Button)`\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-right: none;\n  &:focus {\n    position: relative;\n    z-index: 0;\n  }\n`;\n\nexport type SplitButtonPurpose = ExtractStrict<\n  ButtonPurpose,\n  'primary' | 'secondary'\n>;\n\ntype OptionButtonProps = {\n  purpose: SplitButtonPurpose;\n};\n\nconst OptionButton = styled(Button)<OptionButtonProps>`\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n\n  ${props =>\n    props.purpose === 'primary' &&\n    `\n      border-left: ${tokens.mainButton.primary.borderLeft};\n      &:hover {\n        border-left: ${tokens.mainButton.primary.borderLeft};\n      }\n    `}\n\n  &:focus {\n    position: relative;\n    z-index: 0;\n\n    ${props =>\n      props.purpose === 'primary' &&\n      `border-left: ${tokens.mainButton.primary.borderLeft}`};\n  }\n`;\n\nexport type SplitButtonProps = {\n  /**Størrelse på komponenten. */\n  size?: ButtonSize;\n  /**Props for primær handling. Samme props som for `<Button />` unntatt `size`, `purpose`, og `appearance`. */\n  primaryAction: Omit<ButtonProps, 'size' | 'apperance' | 'purpose'>;\n  /**Props for sekunære handlinger. */\n  secondaryActions: OverflowMenuButtonItem[];\n  /**Formål med knappen */\n  purpose?: SplitButtonPurpose;\n};\nexport const SplitButton = forwardRef<HTMLDivElement, SplitButtonProps>(\n  (props, ref) => {\n    const {\n      size,\n      primaryAction,\n      secondaryActions,\n      purpose = 'primary',\n    } = props;\n\n    const [isOpen, setIsOpen] = useState(false);\n    const buttonStyleProps: ButtonProps = {\n      appearance: 'filled',\n      purpose: purpose,\n      size,\n    };\n\n    return (\n      <Container ref={ref}>\n        <MainButton\n          {...buttonStyleProps}\n          {...primaryAction}\n          iconPosition=\"left\"\n        />\n        <OverflowMenuGroup onToggle={() => setIsOpen(!isOpen)}>\n          <OptionButton\n            {...buttonStyleProps}\n            icon={isOpen ? ChevronUpIcon : ChevronDownIcon}\n            aria-label=\"Åpne liste med flere valg\"\n            purpose={purpose}\n          />\n          <OverflowMenu items={secondaryActions} placement=\"bottom-end\" />\n        </OverflowMenuGroup>\n      </Container>\n    );\n  }\n);\n\nSplitButton.displayName = 'SplitButton';\n"],"names":["mainButton","ddsBaseTokens","tokens","Container","styled","MainButton","Button","OptionButton","props","SplitButton","forwardRef","ref","size","primaryAction","secondaryActions","purpose","isOpen","setIsOpen","useState","buttonStyleProps","jsxs","jsx","OverflowMenuGroup","ChevronUpIcon","ChevronDownIcon","OverflowMenu"],"mappings":"+bAEA,MAAMA,EAAa,CACjB,QAAS,CACP,WAAY,aAAaC,EAAc,OAAO,uBAChD,CACF,EAEaC,EAAS,CACpB,WAAAF,CACF,ECEMG,EAAYC,EAAO;AAAA;AAAA,EAInBC,EAAaD,EAAOE,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAmB1BC,EAAeH,EAAOE,CAAM;AAAA;AAAA;AAAA;AAAA,IAI9BE,GACAA,EAAM,UAAY,WAClB;AAAA,qBACiBN,EAAO,WAAW,QAAQ;AAAA;AAAA,uBAExBA,EAAO,WAAW,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAS3CM,EAAM,UAAY,WAClB,gBAAgBN,EAAO,WAAW,QAAQ;AAAA;AAAA,EAcnCO,EAAcC,EAAA,WACzB,CAACF,EAAOG,IAAQ,CACR,KAAA,CACJ,KAAAC,EACA,cAAAC,EACA,iBAAAC,EACA,QAAAC,EAAU,SACR,EAAAP,EAEE,CAACQ,EAAQC,CAAS,EAAIC,WAAS,EAAK,EACpCC,EAAgC,CACpC,WAAY,SACZ,QAAAJ,EACA,KAAAH,CAAA,EAIA,OAAAQ,EAACjB,GAAU,IAAAQ,EACT,SAAA,CAAAU,EAAChB,EAAA,CACE,GAAGc,EACH,GAAGN,EACJ,aAAa,MAAA,CACf,IACCS,EAAkB,CAAA,SAAU,IAAML,EAAU,CAACD,CAAM,EAClD,SAAA,CAAAK,EAACd,EAAA,CACE,GAAGY,EACJ,KAAMH,EAASO,EAAgBC,EAC/B,aAAW,4BACX,QAAAT,CAAA,CACF,EACCM,EAAAI,EAAA,CAAa,MAAOX,EAAkB,UAAU,aAAa,CAAA,EAChE,CACF,CAAA,CAAA,CAEJ,CACF,EAEAL,EAAY,YAAc;;;;;;;;;;;;"}
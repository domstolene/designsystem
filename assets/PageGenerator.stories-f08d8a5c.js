import{d as ce,s as q,A as S,a as g,F as N}from"./ddsReferenceTokens-647ce456.js";import{r as o,R as O}from"./index-ebeaab24.js";import{S as w,m as ie,u as oe,g as A}from"./BaseComponentProps-a100791d.js";import{a as W,G as me}from"./GridChild-3a6cdb3d.js";import"./Caption-9d9a71c0.js";import{H as le}from"./Heading-b4646737.js";import{L as ue}from"./Label-470a2743.js";import"./Legend-6fbf6204.js";import{L as ge}from"./Link-3e1e1a74.js";import{P as Le}from"./Paragraph-ff3eeae6.js";import"./TextOverflowEllipsis-e3546c5b.js";import{T as Te}from"./Typography-b6b10a83.js";import{V as he,H as ke}from"./Stack-d3e33b7d.js";import{T as ye}from"./ToggleButtonGroup-dd160d45.js";import{T as De}from"./ToggleButton-9a0046d4.js";import{a as Me,L as de}from"./ListItem-e6aad30c.js";import{a as He,D as Ee}from"./DrawerGroup-434ae022.js";import{D as Se}from"./DescriptionListGroup-c1efa62a.js";import{D as we}from"./Datepicker-51b8ed5c.js";import{V as ve}from"./VisuallyHidden-d3f4e065.js";import{T as Be}from"./TextInput-122ebd36.js";import{S as be}from"./Spinner-866d56ff.js";import{S as Ge}from"./Select-a27e041b.js";import{R as Ie}from"./RadioButtonGroup-3592fd35.js";import{R as Re}from"./RadioButton-755439f0.js";import{L as Ce}from"./LocalMessage-72fa4bd4.js";import{I as fe}from"./InputMessage-cba0217e.js";import{G as Ve}from"./GlobalMessage-f2fd6f91.js";import{D as Xe}from"./Divider-97c7888f.js";import{a as _e,b as Ne,D as Ae}from"./DescriptionListDesc-5189b0e0.js";import{C as $e}from"./CheckboxGroup-342c7eed.js";import{C as ze}from"./Checkbox-cea8db0f.js";import{C as J}from"./Card-78c3f55c.js";import{B as Ke}from"./Button-09f75747.js";import{S as ne}from"./StoryTemplate-ef3899a2.js";import"./libraryAdd-35e18a4f.js";import"./Icon-42793503.js";import"./Input.styles-01f05292.js";import"./Button.tokens-cb9e169d.js";import"./SelectionControl.tokens-a716a8b3.js";import"./index-9c09ad76.js";import"./ScrollableContainer-6f3738de.js";import"./ScrollableContainer.tokens-e480b498.js";import"./renderInputMessage-a200bcaf.js";import"./Input.utils-1d79ab61.js";import"./icon-aa5b86b3.js";import"./chunk-S4VUQJ4A-84f1222a.js";import"./iframe-7f15b25b.js";import"../sb-preview/runtime.js";import"./index-72bda2b9.js";import"./index-356e4a49.js";import"./floating-ui.dom-a5fd4560.js";import"./scrollbarStyling-d0d816c9.js";import"./combineHandlers-f6d4455a.js";import"./SelectionControl.styles-c4bcc520.js";import"./LocalMessage.tokens-59426b17.js";import"./normalize-f756ee4b.js";const{spacing:y}=ce,G={columnGaps:{[w.XSmall]:y.SizesDdsSpacingLocalX1,[w.Small]:y.SizesDdsSpacingLocalX1,[w.Medium]:y.SizesDdsSpacingLocalX1,[w.Large]:y.SizesDdsSpacingLocalX1,[w.XLarge]:y.SizesDdsSpacingLocalX15},rowGaps:{xs:y.SizesDdsSpacingLocalX1,sm:y.SizesDdsSpacingLocalX1,md:y.SizesDdsSpacingLocalX1,lg:y.SizesDdsSpacingLocalX1,xl:y.SizesDdsSpacingLocalX15},buttonRow:{marginTop:y.SizesDdsSpacingLocalX1}},xe=q(W)`
  margin-top: ${G.buttonRow.marginTop};
`,Oe=q.div`
  ${({screenSize:e})=>S`
    display: flex;
    flex-wrap: wrap;
    gap: ${G.columnGaps[e]};
  `}
`,We=q.div`
  ${({screenSize:e,length:t})=>t===2?S`
          display: grid;
        `:S`
          display: flex;
          flex-wrap: wrap;
          gap: ${G.columnGaps[e]};
        `}

  ${({screenSize:e,length:t,breakpoint:n=w.XSmall})=>t===2?e>n?S`
            grid-auto-flow: column;
            grid-template-columns: min-content auto;
            column-gap: ${G.columnGaps[e]};
          `:S`
            grid-auto-flow: row;
            row-gap: ${G.rowGaps[ie(e)]};
          `:""}

      ${({screenSize:e,length:t,breakpoint:n})=>t===3?n!==void 0&&e>=n?S`
            flex-direction: row;
          `:S`
            flex-direction: column;
          `:""}
`;var r=(e=>(e.Button="Button",e.Card="Card",e.Checkbox="Checkbox",e.CheckboxGroup="CheckboxGroup",e.Datepicker="Datepicker",e.DescriptionList="DescriptionList",e.DescriptionListGroup="DescriptionListGroup",e.DescriptionListDesc="DescriptionListDesc",e.DescriptionListTerm="DescriptionListTerm",e.Divider="Divider",e.Drawer="Drawer",e.DrawerGroup="DrawerGroup",e.GlobalMessage="GlobalMessage",e.Heading="Heading",e.HStack="HStack",e.InputMessage="InputMessage",e.Label="Label",e.Link="Link",e.List="List",e.ListItem="ListItem",e.LocalMessage="LocalMessage",e.Paragraph="Paragraph",e.RadioButton="RadioButton",e.RadioButtonGroup="RadioButtonGroup",e.Select="Select",e.Spinner="Spinner",e.TextInput="TextInput",e.ToggleButton="ToggleButton",e.ToggleButtonGroup="ToggleButtonGroup",e.Typography="Typography",e.VisuallyHidden="VisuallyHidden",e.VStack="VStack",e))(r||{});const V="FIELD_MISSING_NAME_OR_ID",f=(e,t)=>{let n="";switch(e.component){case r.Checkbox:case r.ToggleButton:return n=e.props.name||e.props.id||V,t={...t,[n]:e.props.defaultChecked},t;case r.CheckboxGroup:case r.ToggleButtonGroup:return e.children.forEach(i=>{t=f(i,t)}),t;case r.RadioButton:case r.RadioButtonGroup:return n=e.props.name||e.props.id||V,t={...t,[n]:e.props.value},t;case r.Select:return n=e.name||e.props.id||V,t={...t,[n]:e.props.defaultValue},t;case r.Datepicker:case r.TextInput:return n=e.props.name||e.props.id||V,t={...t,[n]:e.props.defaultValue},t}return t},ae=(e,t,n,i,m)=>g(xe,{columnsOccupied:"all",children:g(Oe,{screenSize:m,children:t.fields.map((L,a)=>!L.hide&&h(L,a,n,i,m))})},e),h=(e,t,n,i,m,L)=>{switch(e.component){case r.Button:return o.createElement(Ke,{...e.props,key:t});case r.Card:return e.innerHTML?o.createElement(J,{...e.props,key:t},e.innerHTML):(e.children&&(J,{...e.props},e.children),g(N,{}));case r.Checkbox:return o.createElement(ze,{...e.props,key:t,onChange:n});case r.CheckboxGroup:return o.createElement($e,{...e.props,key:t},e.children.map((a,l)=>!a.hide&&h(a,l,n,i,m)));case r.Datepicker:return o.createElement(we,{...e.props,key:t,onChange:n});case r.DescriptionList:return o.createElement(Ae,{...e.props,key:t},e.children.map((a,l)=>!a.hide&&h(a,l,n,i,m)));case r.DescriptionListGroup:return o.createElement(Se,{...e.props,key:t},e.children.map((a,l)=>!a.hide&&h(a,l,n,i,m)));case r.DescriptionListDesc:return o.createElement(Ne,{...e.props,key:t},e.innerHTML);case r.DescriptionListTerm:return o.createElement(_e,{...e.props,key:t},e.innerHTML);case r.Divider:return o.createElement(Xe,{...e.props,key:t});case r.Drawer:return o.createElement(Ee,{...e.props,key:t},e.innerHTML);case r.DrawerGroup:return o.createElement(He,{...e.props,key:t},e.children.map((a,l)=>!a.hide&&h(a,l,n,i,m)));case r.GlobalMessage:return o.createElement(Ve,{...e.props,key:t},e.innerHTML);case r.Heading:return o.createElement(le,{...e.props,key:t},e.innerHTML);case r.HStack:return o.createElement(ke,{...e.props,key:t},e.children.map((a,l)=>!a.hide&&h(a,l,n,i,m)));case r.InputMessage:return o.createElement(fe,{...e.props,key:t});case r.Label:return o.createElement(ue,{...e.props,key:t},e.innerHTML);case r.Link:return o.createElement(ge,{...e.props,key:t},e.innerHTML);case r.List:return o.createElement(de,{...e.props,key:t},e.children.map((a,l)=>!a.hide&&h(a,l,n,i,m)));case r.ListItem:return o.createElement(Me,{...e.props,key:t},e.innerHTML);case r.LocalMessage:return o.createElement(Ce,{...e.props,key:t},e.innerHTML);case r.Paragraph:return o.createElement(Le,{...e.props,key:t},e.innerHTML);case r.RadioButton:return o.createElement(Re,{...e.props,key:t,onChange:n});case r.RadioButtonGroup:return e.props.direction=m>w.XSmall?"row":"column",o.createElement(Ie,{...e.props,key:t},e.children.map((a,l)=>!a.hide&&h(a,l,n,i,m)));case r.Select:return o.createElement(Ge,{...e.props,key:t,onChange:a=>i(a,e.name)});case r.Spinner:return o.createElement(be,{...e.props,key:t});case r.TextInput:return o.createElement(Be,{...e.props,key:t,onChange:n,onBlur:L});case r.ToggleButton:return o.createElement(De,{...e.props,key:t,onChange:n});case r.ToggleButtonGroup:return o.createElement(ye,{...e.props,key:t},e.children.map((a,l)=>!a.hide&&h(a,l,n,i,m)));case r.Typography:return o.createElement(Te,{...e.props,key:t},e.innerHTML);case r.VisuallyHidden:return o.createElement(ve,{...e.props,key:t},e.innerHTML);case r.VStack:return o.createElement(he,{...e.props,key:t},e.children.map((a,l)=>!a.hide&&h(a,l,n,i,m)));default:return g(N,{})}},x=e=>e&&e.validations!==void 0,se=e=>(e==null?void 0:e.values)!==void 0,Q=e=>e.rowType!==void 0,U=e=>e.rowType!==void 0,$=e=>{const{fields:t=[],stateOnChange:n,as:i}=e,{id:m,className:L,htmlProps:a,...l}=e,[D,d]=o.useState({}),[H,I]=o.useState({});o.useEffect(()=>{let s={};t.forEach(c=>{Q(c)?c.fields.forEach(u=>{s=f(u,s)}):s=f(c,s)}),d(s)},[]),o.useEffect(()=>{n&&n(D,H)},[D,H]);const v=(s,c)=>{const u=t[s];x(u)&&(t[s]={...u,props:{...u.props,errorMessage:c}})},z=s=>t.findIndex(c=>x(c)&&c.props&&c.props.name===s),p=(s,c,u)=>{const k={...H,[c]:{value:u,errors:s}};I(k)},T=(s,c)=>{const u=z(s),k=t[u];if(x(k)){const C=k.validations&&k.validations.filter(K=>!K.rule(c))||[];p(C,s,c),v(u,C.length>0?C[0].message:"")}},M=s=>{const{name:c,value:u}=s.target;T(c,u)},E=s=>{const{id:c,name:u,value:k,checked:C}=s.target;v(z(u),"");const K={...D,[u||c]:s.target.type==="checkbox"?C:k};d(K)},R=(s,c)=>{let u=null;se(s)?u=Array.isArray(s)?s:null:u=s||null;const k={...D,[c]:u};d(k)},B=oe();return g(me,{...A(m,L,a,l),as:i,rowGap:G.rowGaps,children:t.map((s,c)=>Q(s)?s.rowType==="button"?!s.hide&&ae(c,s,E,R,B):!s.hide&&g(W,{columnsOccupied:"all",children:g(We,{screenSize:B,length:s.fields.length,breakpoint:s.breakpoint,children:s.fields.map((u,k)=>!u.hide&&h(u,k,E,R,B))})},c):!s.hide&&g(W,{columnsOccupied:"all",children:h(s,c,E,R,B,M)},c))})};$.displayName="PageGenerator";const qe=e=>{const{id:t,className:n,htmlProps:i,...m}=e,L={...m};return delete L.rowType,e.as==="div"?g("div",{...A(t,n,i,L),children:e.children}):g(O.Fragment,{children:e.children})},Je=(e,t,n,i,m)=>o.createElement(qe,{...t,key:e},t.fields.map((L,a)=>!L.hide&&h(L,a,n,i,m))),pe=e=>{const{fields:t=[],stateOnChange:n,as:i}=e,{id:m,className:L,htmlProps:a,...l}=e,[D,d]=o.useState({});o.useEffect(()=>{let p={};t.forEach(T=>{U(T)?T.fields.forEach(M=>{p=f(M,p)}):p=f(T,p)}),d(p)},[]),o.useEffect(()=>{n&&n(D)},[D]);const H=p=>{const{id:T,name:M,value:E,checked:R}=p.target,B={...D,[M||T]:p.target.type==="checkbox"?R:E};d(B)},I=(p,T)=>{let M=null;se(p)?M=Array.isArray(p)?p:null:M=p||null;const E={...D,[T]:M};d(E)},v=oe();return g(p=>i==="div"?g("div",{...A(m,L,a,l),children:p.children}):i==="form"?g("form",{...A(m,L,a,l),children:p.children}):i==="fragment"?g(O.Fragment,{children:p.children}):g(N,{}),{children:t.map((p,T)=>U(p)?p.rowType==="button"?!p.hide&&ae(T,p,H,I,v):!p.hide&&Je(T,p,H,I,v):!p.hide&&g(O.Fragment,{children:h(p,T,H,I,v)},T))})};pe.displayName="SectionGenerator";const Qe=[{component:r.Heading,props:{level:1},innerHTML:"Skjema"},{component:r.Heading,props:{level:2},innerHTML:"Personinformasjon"},{component:r.TextInput,props:{label:"Fødselsnummer",name:"nin"},validations:[{message:"Påkrevd",rule:e=>e.length>0},{message:"Må være omg",rule:e=>e==="omg"}]},{rowType:"standard",fields:[{component:r.Datepicker,props:{label:"Fødselsdato",name:"dateOfBirth",width:"320px"}},{component:r.Select,props:{label:"Status",name:"status",options:[{label:"Glad",value:"glad"},{label:"Superglad",value:"superglad"}]},name:"status"}]},{component:r.Heading,props:{level:3},innerHTML:"Kontaktinformasjon"},{component:r.TextInput,props:{label:"E-post",name:"email"}},{rowType:"standard",fields:[{component:r.TextInput,props:{label:"Landkode",width:"90px",name:"countryCode"}},{component:r.TextInput,props:{label:"Telefon",name:"phoneNumber"}}]},{component:r.Heading,props:{level:4},innerHTML:"Annet"},{component:r.CheckboxGroup,props:{label:"Kvalifikasjoner"},children:[{component:r.Checkbox,props:{label:"Glad",value:"glad"}},{component:r.Checkbox,props:{label:"Superglad",value:"superglad"}}]},{component:r.RadioButtonGroup,props:{label:"Kjønn",name:"gender"},children:[{component:r.RadioButton,props:{label:"Mann",value:"mann",name:"gender"}},{component:r.RadioButton,props:{label:"Kvinne",value:"kvinne",name:"gender"}}]},{rowType:"button",fields:[{component:r.Button,props:{label:"Lagre",type:"submit"}},{component:r.Button,props:{label:"Superlagre",purpose:"secondary",onClick:e=>{e.preventDefault(),console.log("Du superlagret!")}}}]}],Y=e=>({component:r.Heading,props:{level:5,withMargins:!0},innerHTML:e}),Z=(e,t)=>({component:r.DescriptionList,props:{direction:t},children:e}),b=(e,t)=>({component:r.DescriptionListGroup,props:{margin:"0"},children:[{component:r.DescriptionListTerm,props:{},innerHTML:e},{component:r.DescriptionListDesc,props:{},innerHTML:t}]}),Ue=()=>[Y("DescriptionList - direction row"),Z([b("Term1","Desc1"),b("Term2","Desc2"),b("Term3","Desc3")],"row"),Y("DescriptionList - direction column"),Z([b("Term1","Desc1"),b("Term2","Desc2"),b("Term3","Desc3")],"column"),{component:r.Card,props:{cardType:"info",color:"strokeLight"},innerHTML:"Dette er et Card"},{component:r.DrawerGroup,props:{children:g(N,{})},children:[{component:r.Button,props:{purpose:"secondary",label:"Trigger Drawer"}},{component:r.Drawer,props:{header:"Rediger avdøde"},innerHTML:"Dette er en Drawer"}]},{component:r.HStack,props:{},children:[{component:r.LocalMessage,props:{},innerHTML:"Element i HStack"},{component:r.LocalMessage,props:{},innerHTML:"Element i HStack"},{component:r.LocalMessage,props:{},innerHTML:"Element i HStack"}]},{component:r.VStack,props:{},children:[{component:r.LocalMessage,props:{},innerHTML:"Element i VStack"},{component:r.LocalMessage,props:{},innerHTML:"Element i VStack"},{component:r.LocalMessage,props:{},innerHTML:"Element i VStack"}]},{component:r.Divider,props:{}},{component:r.InputMessage,props:{message:"Dette er en InputMessage",messageType:"error"}},{component:r.Label,props:{},innerHTML:"Dette er en Label"},{component:r.Link,props:{href:""},innerHTML:"Dette er en Link"},{component:r.Paragraph,props:{},innerHTML:"Dette er en Paragraph"},{component:r.Spinner,props:{}},{component:r.Typography,props:{},innerHTML:"Dette er en Typography"},{component:r.VisuallyHidden,props:{as:"div"},innerHTML:"Dette er en VisuallyHidden"},{component:r.ToggleButtonGroup,props:{label:"Dette er ToggleButtonGroup"},children:[{component:r.ToggleButton,props:{label:"ToggleButton 1"}},{component:r.ToggleButton,props:{label:"ToggleButton 2"}}]},{component:r.List,children:[{component:r.ListItem,innerHTML:"Item 1"},{component:r.ListItem,innerHTML:"Item 2"}]}],Fr={title:"dds-page-generator/PageGenerator",component:$},X=()=>g(ne,{title:"PageGenerator - Form",display:"grid",children:g($,{as:"form",fields:Qe,stateOnChange:(e,t)=>{console.log(e,t)}})}),_=()=>g(ne,{title:"PageGenerator - Other",display:"grid",children:g($,{as:"form",fields:Ue(),stateOnChange:e=>{console.log(e)}})});var P,F,j;X.parameters={...X.parameters,docs:{...(P=X.parameters)==null?void 0:P.docs,source:{originalSource:`() => {
  return <StoryTemplate title="PageGenerator - Form" display="grid">
      <PageGenerator as="form" fields={FormFields} stateOnChange={(newState?: object, errors?: object) => {
      console.log(newState, errors);
    }} />
    </StoryTemplate>;
}`,...(j=(F=X.parameters)==null?void 0:F.docs)==null?void 0:j.source}}};var ee,re,te;_.parameters={..._.parameters,docs:{...(ee=_.parameters)==null?void 0:ee.docs,source:{originalSource:`() => {
  return <StoryTemplate title="PageGenerator - Other" display="grid">
      <PageGenerator as="form" fields={OtherFields()} stateOnChange={(newState?: object) => {
      console.log(newState);
    }} />
    </StoryTemplate>;
}`,...(te=(re=_.parameters)==null?void 0:re.docs)==null?void 0:te.source}}};const jr=["Form","Other"];export{X as Form,_ as Other,jr as __namedExportsOrder,Fr as default};
//# sourceMappingURL=PageGenerator.stories-f08d8a5c.js.map

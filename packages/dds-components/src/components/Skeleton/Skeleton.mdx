import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import {
  ComponentLinkRow,
  Source,
} from '@norges-domstoler/storybook-components';
import * as SkeletonStories from './Skeleton.stories';

<Meta of={SkeletonStories} />

# Skeleton

<ComponentLinkRow
  docsHref="97ee20-skeleton"
  figmaHref="node-id=18082-10239"
  githubHref={{ folder: 'components', comp: 'Skeleton' }}
  storybookHref={{ folder: 'components', comp: 'skeleton' }}
/>

## Props

For hvert element du skal emulere bygger du en individuell `<Skeleton>` med `height`, `width` og `borderRadius`, slik at det ligner på det faktiske innholdet.

<Canvas of={SkeletonStories.Preview} />
<Controls of={SkeletonStories.Preview} />

## Eksempel

<Canvas of={SkeletonStories.Example} />

## Retningslinjer

### Utforming

Bruk tokens for å definere form der mulig, spesielt `borderRadius`. På denne måten blir skjelettet alltid konsekvent ved endringer.

<Source
  code={`<Skeleton 
    borderRadius="var(--dds-border-radius-rounded)"
    height="var(--dds-spacing-x2)"
     />`}
/>

### Innlasting av en region

Hvis du dynamisk laster inn deler av innhold som kan ta lengre tid, bruk [live region](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions).
Indiker til assisterende verktøy at innlastning pågår med `aria-live`, `aria-busy="true"` og `aria-describedby` med f.eks. `<VisuallyHidden>`, så lenge innhold lastes inn og `<Skeleton>` vises:

<Source
  code={`
<div aria-live="polite" aria-busy="true" aria-describedby="busy-text-id">
  <VisuallyHidden id="busy-text-id"> Laster inn skjema </VisuallyHidden>
  <Skeleton />
  <Skeleton />
  <Skeleton />
</div>
`}
/>

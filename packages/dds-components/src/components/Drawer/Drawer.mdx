import { Canvas, Controls, Meta, ArgTypes } from '@storybook/addon-docs/blocks';
import { DrawerGroup } from '.';
import {
  Source,
  ComponentLinkRow,
} from '@norges-domstoler/storybook-components';
import * as DrawerStories from './Drawer.stories';

<Meta of={DrawerStories} />

# Drawer

<ComponentLinkRow
  docsHref="https://design.domstol.no/987b33f71/p/79af30-drawer/b/15dc45"
  figmaHref="https://www.figma.com/file/ewqSDmkgqDQ5PyOsRp4V5b/?node-id=5023%3A128351"
  githubHref="https://github.com/domstolene/designsystem/tree/main/packages/components/src/components/Drawer"
  storybookHref="https://domstolene.github.io/designsystem/?path=/story/dds-components-components-drawer--default"
  withBottomSpacing
/>

Drawer bygges med følgende elementer:

- **`<Drawer>`**: er en komponent som vises når et trigger-element interageres med. `<Drawer>` kan ha valgfritt innhold.
- **Trigger-element**: valgrfritt element som styrer `<Drawer>`, typisk en knapp.
- **`<DrawerGroup>`**: håndterer lukking/åpning og universell utforming. Den skal ha trigger-elementet som første barn og `<Drawer>` som andre barn.

## Props

### Drawer

Hovedkomponenten. Den kan brukes kontrollert eller ikke kontrollert.

**OBS!** Støtter ikke `id`; se [DrawerGroup](#drawergroup).

<Canvas of={DrawerStories.Default} sourceState="shown" />
<Controls of={DrawerStories.Default} />

### DrawerGroup

En wrapper som håndterer åpning, lukking, ARIA og refs ut av boksen. Den skal ha trigger-elementet som første barn og `<Drawer>` som andre barn. Obligatorisk å bruke.

<ArgTypes of={DrawerGroup} />

## Bruk

<Source
  code={`
import { Drawer, DrawerGroup, Button } from '@norges-domstoler/dds-components';

<DrawerGroup>
  <Button>Åpne</Button>
  <Drawer header="Tittel">Innhold</Drawer>
</DrawerGroup>
`} />

### Callbacks

<Source
  code={`
import { Drawer, DrawerGroup, Button } from '@norges-domstoler/dds-components';

const onClose = () => {
//din kode
};
const onOpen = () => {
//din kode
};

<DrawerGroup onClose={onClose} onOpen={onOpen}>
  <Button>Åpne</Button>
  <Drawer header="Tittel">Innhold</Drawer>
</DrawerGroup>
`} />

### Kontrollert

<Source
  code={`
import { Drawer, DrawerGroup, Button } from '@norges-domstoler/dds-components';

const [isOpen, setIsOpen] = useState(false);

<DrawerGroup isOpen={isOpen} setIsOpen={setIsOpen}>
  <Button>Åpne</Button>
  <Drawer header="Tittel">Innhold</Drawer>
</DrawerGroup>
`} />

import { Canvas, Controls, Meta } from '@storybook/addon-docs/blocks';
import {
  ComponentLinkRow,
  Source,
} from '@norges-domstoler/storybook-components';
import * as SpinnerStories from './Spinner.stories';
import { Tabs, TabList, Tab, TabPanels, TabPanel } from '../Tabs';

<Meta of={SpinnerStories} />

# Spinner

<ComponentLinkRow
  docsHref="https://design.domstol.no/987b33f71/p/37e415-spinner/b/7539bc"
  githubHref="https://github.com/domstolene/designsystem/tree/main/packages/components/src/components/Spinner"
  storybookHref="https://domstolene.github.io/designsystem/?path=/story/dds-components-components-spinner--default"
  figmaHref="https://www.figma.com/design/ewqSDmkgqDQ5PyOsRp4V5b/DDS-Komponenter?node-id=13027-235851"
  withBottomSpacing
/>

`<Spinner>` indikerer innlastning an innhold. Den er et animert `<svg>`-element som bruker nåværende tid til å bestemme hvor den skal starte i animasjonen.

<Tabs>
  <TabList>
    <Tab>Preview</Tab>
    <Tab>Custom farge</Tab>
    <Tab>Størrelse</Tab>
    <Tab>Custom tooltip</Tab>
  </TabList>
  <TabPanels>
    <TabPanel>
      <Canvas of={SpinnerStories.Preview} />
      <Controls of={SpinnerStories.Preview} />
    </TabPanel>
    <TabPanel>
      <Canvas of={SpinnerStories.CustomColor} />
    </TabPanel>
    <TabPanel>
      <Canvas of={SpinnerStories.CustomSize} />
    </TabPanel>
    <TabPanel>
      <Canvas of={SpinnerStories.CustomTooltip} />
    </TabPanel>
  </TabPanels>
</Tabs>

## Retningslinjer

### Innlasting av en region

Hvis du dynamisk laster inn deler av innhold som kan ta lengre tid, bruk [live region](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions).
Indiker til assisterende verktøy at innlastning pågår med `aria-live`, `aria-busy="true"` og `aria-describedby`, så lenge innhold lastes inn og `<Spinner>` vises:

<Source
  code={`
<div aria-live="polite" aria-busy="true" aria-describedby="spinner-id">
  <Spinner id="spinner-id" />
</div>
`}
/>

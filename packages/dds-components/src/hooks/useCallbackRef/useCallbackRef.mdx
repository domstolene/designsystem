import { Canvas, Controls, Meta } from '@storybook/addon-docs/blocks';
import {
  ComponentLinkRow,
  Source,
} from '@norges-domstoler/storybook-components';
import * as useCallbackRefStories from './useCallbackRef.stories';

<Meta of={useCallbackRefStories} />

# useCallbackRef

<ComponentLinkRow
  docsHref="https://design.domstol.no/987b33f71/p/30227e-usecallbackref"
  githubHref="https://github.com/domstolene/designsystem/blob/main/packages/dds-components/src/hooks/useCallbackRef/useCallbackRef.ts"
/>

Returnerer en referanse som peker til den nyeste versjonen av callback-funksjonen.
Nyttig i event listeners eller andre tilfeller hvor du trenger en stabil referanse, men ønsker oppdatert logikk.

<Canvas of={useCallbackRefStories.Preview} sourceState="none" />
<Controls of={useCallbackRefStories.Preview} />

## Bruk

<Source code={`import { useCallbackRef } from '@norges-domstoler/dds-components';

function MyComponent() {

    const [count, setCount] = useState(0);

    const handleClick = useCallbackRef(() => {
    setCount(c => c + 1);
    }, [count]);

    return <button onClick={handleClick}>Øk</button>;

}`} />

import { Canvas, Controls, Meta } from '@storybook/addon-docs/blocks';
import {
  ComponentLinkRow,
  Source,
} from '@norges-domstoler/storybook-components';
import * as useCallbackRefStories from './useCallbackRef.stories';

<Meta of={useCallbackRefStories} />

# useCallbackRef

<ComponentLinkRow
  docsHref="92b74c-usecallbackref"
  githubHref={{ folder: 'hooks', comp: 'useCallbackRef' }}
  storybookHref={{ folder: 'hooks', comp: 'usecallbackref' }}
/>

Returnerer en referanse som peker til den nyeste versjonen av callback-funksjonen.
Nyttig i event listeners eller andre tilfeller hvor du trenger en stabil referanse, men ønsker oppdatert logikk.

<Canvas of={useCallbackRefStories.Preview} sourceState="none" />
<Controls of={useCallbackRefStories.Preview} />

## Bruk

<Source code={`import { useCallbackRef } from '@norges-domstoler/dds-components';

function MyComponent() {

    const [count, setCount] = useState(0);

    const handleClick = useCallbackRef(() => {
    setCount(c => c + 1);
    }, [count]);

    return <button onClick={handleClick}>Øk</button>;

}`} />

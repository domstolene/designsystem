import { ArgTypes, Canvas, Controls, Meta } from '@storybook/blocks';
import { CardAccordion, CardAccordionBody, CardAccordionHeader } from '.';
import { ComponentLinkRow } from '@norges-domstoler/storybook-components';
import * as CardStories from './Card.stories';

<Meta of={CardStories} />

# Card

<ComponentLinkRow
  docsHref="https://design.domstol.no/987b33f71/p/0822fe-card/b/79dd5d"
  figmaHref="https://www.figma.com/file/ewqSDmkgqDQ5PyOsRp4V5b/?node-id=3421%3A94375"
  githubHref="https://github.com/domstolene/designsystem/tree/main/packages/components/src/components/Card"
  storybookHref="https://domstolene.github.io/designsystem/?path=/story/dds-components-card--default"
  withBottomSpacing
/>

`<Card>` er en fleksibel komponent som kan ha stort sett valgfritt innhold.

Det finnes følgene typer `<Card>`:

- **info**: statisk wrapper; innholdet er valgfritt, inkludert interaktive elementer.
- **navigation**: gjør `<Card>` klikkbart og rendrer en lenke. Skal ikke inneholde interaktive elementer.
- **expandable**: brukes når `<Card>` skal ha en tittel og ekspanderbart panel. Ved expandable Card skal subkomponentene `<CardAccordion>`, `<CardAccordionHeader>` og `<CardAccordionBody>` brukes. En gruppe med expandable Cards skal legges i en `<div>` container.
- **selectable _(kommer)_**: en `<Card>` som kan bli valgt vha. en radioknapp eller checkbox.
  `<Card>` får typen via cardType-prop (se [Card Props](#card-1)). Ved expandable skal i tillegg brukes `<CardAccordion>`-subkomponenter.

## Props

### Card

Wrapper for innhold i et kort. Bruk design-tokens for spacing og annet styling der relevant. Har default typografi.

<Canvas of={CardStories.Default} sourceState="shown" />
<Controls of={CardStories.Default} />

### CardAccordion

En container for CardAccordion-subkomponenter som håndterer oppførsel og universell utforming for subkomponentene. Den skal ha:

- `<Card cardType='expandable'>` som forelder,
- `<CardAccordionHeader>` som første barn,
- `<CardAccordionBody>` som andre barn.

En gruppe med `<Card cardType='expandable'>` skal legges i en `<div>` container.

<Canvas of={CardStories.Expandable} sourceState="shown" />

<ArgTypes of={CardAccordion} />

### CardAccordionHeader

Header i `<CardAccordion>`. Skal brukes som første barn og den får automatisk riktig id fra `<CardAccordion>`. Komponenten har default typografi som kan bli overskrevet ved å bruke typografikomponenter som barn.

<ArgTypes of={CardAccordionHeader} />

### CardAccordionBody

Body i `<CardAccordion>`. Skal brukes som andre barn og den får automatisk riktig `id` fra `<CardAccordion>`. Komponenten har default typografi som kan bli overskrevet ved å bruke typografikomponenter som barn.

<ArgTypes of={CardAccordionBody} />

## Retningslinjer

- Ikke bruk `<Card type="expandable">` i en gruppe. Bruk heller `<Accordion>`-komponent.
- Ikke legg interaktive elementer (knapp, radio, inputfelt...) inni `<CardAccordionHeader>`. Den er allerede en knapp og kan ikke ha nøstet interaksjon.
- Ikke bruk `<CardAcconrdionHeader>` til å kontrollere andre elementer, som å åpne `<OverflowMenu>` eller en modal.
